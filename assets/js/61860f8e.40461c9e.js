"use strict";(self.webpackChunknpipeline=self.webpackChunknpipeline||[]).push([[1253],{1730:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"core-concepts/ipipeline","title":"Pipeline","description":"Learn about Pipeline, the executable instance of your data pipeline.","source":"@site/docs/core-concepts/ipipeline.md","sourceDirName":"core-concepts","slug":"/core-concepts/ipipeline","permalink":"/docs/core-concepts/ipipeline","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Pipeline","description":"Learn about Pipeline, the executable instance of your data pipeline.","sidebar_position":2,"slug":"/core-concepts/ipipeline"},"sidebar":"docsSidebar","previous":{"title":"Grouping Strategies - Batching vs Aggregation","permalink":"/docs/core-concepts/grouping-strategies"},"next":{"title":"Data Pipes (IDataPipe)","permalink":"/docs/core-concepts/data-pipes"}}');var t=i(4848),l=i(8453);const s={title:"Pipeline",description:"Learn about Pipeline, the executable instance of your data pipeline.",sidebar_position:2,slug:"/core-concepts/ipipeline"},o="Pipeline",c={},a=[{value:"What is a Pipeline?",id:"what-is-a-pipeline",level:2},{value:"Pipeline Class Definition",id:"pipeline-class-definition",level:2},{value:"Obtaining a Pipeline Instance",id:"obtaining-a-pipeline-instance",level:2},{value:"Running the Pipeline",id:"running-the-pipeline",level:2},{value:"Using PipelineRunner",id:"using-pipelinerunner",level:3},{value:"Cancellation",id:"cancellation",level:3},{value:"Advanced Execution Options",id:"advanced-execution-options",level:3},{value:"Pipeline Context",id:"pipeline-context",level:2},{value:"\ud83d\udd17 Related Topics",id:"link-related-topics",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"pipeline",children:"Pipeline"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"Pipeline"})," class represents the compiled, executable form of your data pipeline. It is the final object you interact with to trigger the execution of all the sources, transforms, and sinks you have defined using the ",(0,t.jsx)(n.a,{href:"/docs/core-concepts/pipeline-definition",children:"Pipeline Definition"})," approaches."]}),"\n",(0,t.jsx)(n.h2,{id:"what-is-a-pipeline",children:"What is a Pipeline?"}),"\n",(0,t.jsxs)(n.p,{children:["Think of ",(0,t.jsx)(n.code,{children:"Pipeline"}),' as the "runnable" version of your pipeline definition. After you have used ',(0,t.jsx)(n.a,{href:"/docs/core-concepts/pipelinebuilder",children:(0,t.jsx)(n.code,{children:"PipelineBuilder"})})," to lay out the nodes and their connections, the ",(0,t.jsx)(n.code,{children:"Build()"})," method compiles this definition into a ",(0,t.jsx)(n.code,{children:"Pipeline"})," instance."]}),"\n",(0,t.jsx)(n.p,{children:"This instance encapsulates all the logic required to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Start source nodes to begin producing data."}),"\n",(0,t.jsx)(n.li,{children:"Manage the flow of data between nodes through data pipes."}),"\n",(0,t.jsx)(n.li,{children:"Ensure data is transformed and processed in the correct order."}),"\n",(0,t.jsx)(n.li,{children:"Terminate the pipeline gracefully once all data has been processed."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"pipeline-class-definition",children:"Pipeline Class Definition"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"Pipeline"})," class is a sealed class that contains the graph definition of the pipeline:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"public sealed class Pipeline\r\n{\r\n    public PipelineGraph Graph { get; }\r\n\r\n    internal Pipeline(PipelineGraph graph)\r\n    {\r\n        Graph = graph;\r\n    }\r\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"obtaining-a-pipeline-instance",children:"Obtaining a Pipeline Instance"}),"\n",(0,t.jsxs)(n.p,{children:["The most common way to get a ",(0,t.jsx)(n.code,{children:"Pipeline"})," instance is by calling the ",(0,t.jsx)(n.code,{children:"Build()"})," method on a configured ",(0,t.jsx)(n.code,{children:"PipelineBuilder"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"using NPipeline;\r\nusing NPipeline.Nodes;\r\nusing NPipeline.Pipeline;\r\n\r\n// 1. Configure the pipeline using the builder\r\nvar builder = new PipelineBuilder();\r\nvar sourceHandle = builder.AddSource<MySource, int>();\r\nvar transformHandle = builder.AddTransform<MyTransform, int, string>();\r\nvar sinkHandle = builder.AddSink<MySink, string>();\r\n\r\nbuilder.Connect(sourceHandle, transformHandle);\r\nbuilder.Connect(transformHandle, sinkHandle);\r\n\r\n// 2. Build the executable Pipeline instance\r\nvar pipeline = builder.Build();\n"})}),"\n",(0,t.jsx)(n.h2,{id:"running-the-pipeline",children:"Running the Pipeline"}),"\n",(0,t.jsxs)(n.p,{children:["Pipelines are executed using the ",(0,t.jsx)(n.code,{children:"PipelineRunner"})," class, which provides multiple methods for running pipelines. The ",(0,t.jsx)(n.code,{children:"PipelineRunner"})," coordinates all aspects of pipeline processing, including node instantiation, execution flow, error handling, and resource management."]}),"\n",(0,t.jsx)(n.h3,{id:"using-pipelinerunner",children:"Using PipelineRunner"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"// Create a runner with default services\r\nvar runner = new PipelineRunner();\r\n\r\n// Run the pipeline using a pipeline definition\r\nawait runner.RunAsync<MyPipelineDefinition>();\r\n\r\n// Or run with a specific context\r\nvar context = new PipelineContext();\r\nawait runner.RunAsync<MyPipelineDefinition>(context);\r\n\r\n// Or run with a cancellation token\r\nvar cts = new CancellationTokenSource();\r\nvar context = new PipelineContext(PipelineContextConfiguration.WithCancellation(cts.Token));\r\nawait runner.RunAsync<MyPipelineDefinition>(context);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"cancellation",children:"Cancellation"}),"\n",(0,t.jsxs)(n.p,{children:["You can pass a ",(0,t.jsx)(n.code,{children:"CancellationToken"})," to control pipeline execution. This is useful for long-running pipelines or for handling application shutdown events."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'var cts = new CancellationTokenSource();\r\nvar runner = new PipelineRunner();\r\n\r\n// Start the pipeline with a cancellation token\r\nvar pipelineTask = runner.RunAsync<MyPipelineDefinition>(cts.Token);\r\n\r\n// After some time or on a specific event, request cancellation\r\ncts.Cancel();\r\n\r\n// Await the task to ensure shutdown is complete\r\ntry\r\n{\r\n    await pipelineTask;\r\n}\r\ncatch (OperationCanceledException)\r\n{\r\n    Console.WriteLine("Pipeline was successfully canceled.");\r\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"advanced-execution-options",children:"Advanced Execution Options"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"PipelineRunner"})," provides several constructors for different use cases:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"// Default constructor with all default services\r\nvar runner = new PipelineRunner();\r\n\r\n// With custom factories\r\nvar runner = new PipelineRunner(customPipelineFactory, customNodeFactory);\r\n\r\n// With full dependency injection\r\nvar runner = new PipelineRunner(\r\n    pipelineFactory,\r\n    nodeFactory,\r\n    executionCoordinator,\r\n    infrastructureService,\r\n    observabilitySurface);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"pipeline-context",children:"Pipeline Context"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"PipelineContext"})," provides the execution environment, including logging, tracing, factories, and parameters:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'// Create a context with a cancellation token\r\nvar context = new PipelineContext(PipelineContextConfiguration.WithCancellation(cancellationToken));\r\n\r\n// Add custom items to the context\r\ncontext.Items["customSetting"] = "value";\r\n\r\n// Add custom properties\r\ncontext.Properties["retryCount"] = 3;\r\n\r\n// Run with a custom context\r\nawait runner.RunAsync<MyPipelineDefinition>(context);\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"link-related-topics",children:["\ud83d\udd17"," Related Topics"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/core-concepts/pipeline-definition",children:"Pipeline Definition"})}),": Learn how to define the structure of your pipeline using IPipelineDefinition and PipelineBuilder."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/core-concepts/pipeline-context",children:"Pipeline Context"})}),": Understand how to pass state and configuration to your pipeline nodes."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/core-concepts/pipeline-execution",children:"Pipeline Execution"})}),": Explore more advanced execution scenarios."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/core-concepts/nodes/",children:"INode"})}),": Understand the different types of nodes that make up a pipeline."]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>o});var r=i(6540);const t={},l=r.createContext(t);function s(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);