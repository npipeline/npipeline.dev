"use strict";(self.webpackChunknpipeline=self.webpackChunknpipeline||[]).push([[6299],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var s=i(96540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},59134:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"extensions/lineage/index","title":"NPipeline Lineage Extension","description":"Comprehensive data lineage tracking and provenance capabilities for NPipeline pipelines.","source":"@site/docs/extensions/lineage/index.md","sourceDirName":"extensions/lineage","slug":"/extensions/lineage","permalink":"/docs/extensions/lineage","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"NPipeline Lineage Extension","description":"Comprehensive data lineage tracking and provenance capabilities for NPipeline pipelines.","sidebar_position":6,"slug":"/extensions/lineage"},"sidebar":"docsSidebar","previous":{"title":"Lineage","permalink":"/docs/category/lineage"},"next":{"title":"Lineage Architecture","permalink":"/docs/extensions/lineage/architecture"}}');var t=i(74848),r=i(28453);const l={title:"NPipeline Lineage Extension",description:"Comprehensive data lineage tracking and provenance capabilities for NPipeline pipelines.",sidebar_position:6,slug:"/extensions/lineage"},a="NPipeline Lineage Extension",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Key Features",id:"key-features",level:2},{value:"Item-Level Lineage Tracking",id:"item-level-lineage-tracking",level:3},{value:"Pipeline-Level Reports",id:"pipeline-level-reports",level:3},{value:"Configurable Sampling",id:"configurable-sampling",level:3},{value:"Data Redaction",id:"data-redaction",level:3},{value:"Flexible Sink Architecture",id:"flexible-sink-architecture",level:3},{value:"Thread-Safe Collection",id:"thread-safe-collection",level:3},{value:"When to Use Lineage Tracking",id:"when-to-use-lineage-tracking",level:2},{value:"Production Environments",id:"production-environments",level:3},{value:"Development and Testing",id:"development-and-testing",level:3},{value:"Data Science and Analytics",id:"data-science-and-analytics",level:3},{value:"Integration with NPipeline Core",id:"integration-with-npipeline-core",level:2},{value:"PipelineBuilder Extensions",id:"pipelinebuilder-extensions",level:3},{value:"Dependency Injection Integration",id:"dependency-injection-integration",level:3},{value:"Automatic Collection",id:"automatic-collection",level:3},{value:"Documentation",id:"documentation",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"npipeline-lineage-extension",children:"NPipeline Lineage Extension"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"NPipeline.Extensions.Lineage"})," extension provides comprehensive data lineage tracking and provenance capabilities for NPipeline pipelines. Track the complete journey of each data item from source to destination, enabling data governance, debugging, audit trails, and data discovery."]}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"Data lineage tracking is the process of recording and maintaining information about the origin, transformations, and flow of data through a system. In the context of NPipeline, lineage tracking captures:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Origin"}),": Where each data item entered the pipeline (source node)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Transformations"}),": Which nodes processed or modified the data"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Path"}),": The complete sequence of nodes each item traversed"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Decisions"}),": Branching decisions and routing outcomes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cardinality"}),": How many items were produced/consumed at each hop"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Timing"}),": When each transformation occurred (optional)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,t.jsx)(n.h3,{id:"item-level-lineage-tracking",children:"Item-Level Lineage Tracking"}),"\n",(0,t.jsx)(n.p,{children:"Track individual data items as they flow through the pipeline, recording:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Traversal Path"}),": Complete list of node IDs the item passed through"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Lineage Hops"}),": Detailed information about each hop including:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Node ID"}),"\n",(0,t.jsx)(n.li,{children:"Decision outcome (success, failure, filtered, etc.)"}),"\n",(0,t.jsx)(n.li,{children:"Observed cardinality (one-to-one, one-to-many, many-to-one, many-to-many)"}),"\n",(0,t.jsx)(n.li,{children:"Input contributor count"}),"\n",(0,t.jsx)(n.li,{children:"Output emission count"}),"\n",(0,t.jsx)(n.li,{children:"Ancestry input indices (for join operations)"}),"\n",(0,t.jsx)(n.li,{children:"Truncation status"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"pipeline-level-reports",children:"Pipeline-Level Reports"}),"\n",(0,t.jsx)(n.p,{children:"Generate high-level reports showing pipeline structure and data flow patterns:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Node Information"}),": All nodes in the pipeline with their types and configurations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Edge Information"}),": Connections between nodes showing data flow direction"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Execution Summary"}),": Overall pipeline execution statistics"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Run Metadata"}),": Pipeline ID, run ID, timestamps"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"configurable-sampling",children:"Configurable Sampling"}),"\n",(0,t.jsx)(n.p,{children:"Control lineage collection overhead with configurable sampling strategies:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Deterministic Sampling"}),": Sample every Nth item using a hash-based approach. The same items are always sampled across runs, providing consistent behavior for debugging and compliance."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Random Sampling"}),": Sample items randomly at the specified rate. Provides a representative sample with minimal overhead, suitable for monitoring and analytics."]}),"\n",(0,t.jsx)(n.h3,{id:"data-redaction",children:"Data Redaction"}),"\n",(0,t.jsx)(n.p,{children:"Optionally exclude actual data from lineage records to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Reduce memory usage for large data objects"}),"\n",(0,t.jsx)(n.li,{children:"Improve security by not storing sensitive information"}),"\n",(0,t.jsx)(n.li,{children:"Focus on flow patterns rather than data values"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"flexible-sink-architecture",children:"Flexible Sink Architecture"}),"\n",(0,t.jsx)(n.p,{children:"Implement custom lineage sinks to export lineage data to various destinations:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Logging"}),": Built-in ",(0,t.jsx)(n.a,{href:"../../../../src/NPipeline.Extensions.Lineage/LoggingPipelineLineageSink.cs",children:(0,t.jsx)(n.code,{children:"LoggingPipelineLineageSink"})})," for structured logging"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Databases"}),": Store lineage information in SQL or NoSQL databases"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"File Systems"}),": Export to JSON, CSV, or custom formats"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"External Services"}),": Send lineage data to monitoring or analytics platforms"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Message Queues"}),": Publish lineage events for real-time processing"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"thread-safe-collection",children:"Thread-Safe Collection"}),"\n",(0,t.jsxs)(n.p,{children:["Lineage data is collected safely across parallel and concurrent pipeline executions using thread-safe data structures. The ",(0,t.jsx)(n.a,{href:"../../../../src/NPipeline.Extensions.Lineage/LineageCollector.cs",children:(0,t.jsx)(n.code,{children:"LineageCollector"})})," uses ",(0,t.jsx)(n.code,{children:"ConcurrentDictionary"})," for storage and fine-grained locking for individual trail updates."]}),"\n",(0,t.jsx)(n.h2,{id:"when-to-use-lineage-tracking",children:"When to Use Lineage Tracking"}),"\n",(0,t.jsx)(n.h3,{id:"production-environments",children:"Production Environments"}),"\n",(0,t.jsx)(n.p,{children:"Lineage tracking is particularly valuable in production scenarios where:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Compliance Requirements"}),": Regulatory mandates require audit trails"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data Quality Monitoring"}),": Need to quickly identify and resolve data quality issues"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Impact Analysis"}),": Understanding dependencies before making changes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Incident Response"}),": Tracing problems to their source during outages"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"development-and-testing",children:"Development and Testing"}),"\n",(0,t.jsx)(n.p,{children:"During development and testing, lineage tracking helps:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validate Pipeline Logic"}),": Ensure data flows through expected paths"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Debug Transformations"}),": Identify which node introduced unexpected changes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test Edge Cases"}),": Verify behavior for specific data items"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Performance Analysis"}),": Understand where time is spent in complex pipelines"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"data-science-and-analytics",children:"Data Science and Analytics"}),"\n",(0,t.jsx)(n.p,{children:"For data science and analytics workflows:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reproducibility"}),": Document exactly how datasets were created"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Version Control"}),": Track data transformations alongside code changes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data Cataloging"}),": Build a comprehensive catalog of data sources and transformations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Model Training"}),": Understand the provenance of training data"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"integration-with-npipeline-core",children:"Integration with NPipeline Core"}),"\n",(0,t.jsx)(n.p,{children:"The Lineage extension integrates seamlessly with NPipeline core through several extension points:"}),"\n",(0,t.jsx)(n.h3,{id:"pipelinebuilder-extensions",children:"PipelineBuilder Extensions"}),"\n",(0,t.jsx)(n.p,{children:"Configure lineage tracking directly on your pipeline builder:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'var builder = new PipelineBuilder("MyPipeline");\n\n// Enable item-level lineage tracking\nbuilder.EnableItemLevelLineage(options =>\n{\n    options.SampleEvery = 10;\n    options.DeterministicSampling = true;\n    options.RedactData = true;\n});\n\n// Add pipeline-level lineage sink\nbuilder.UseLoggingPipelineLineageSink();\n'})}),"\n",(0,t.jsx)(n.h3,{id:"dependency-injection-integration",children:"Dependency Injection Integration"}),"\n",(0,t.jsx)(n.p,{children:"Register lineage services with Microsoft.Extensions.DependencyInjection:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"services.AddNPipelineLineage();\n// Or with custom sink\nservices.AddNPipelineLineage<DatabaseLineageSink>();\n// Or with factory\nservices.AddNPipelineLineage(sp => new CustomLineageSink(logger));\n"})}),"\n",(0,t.jsx)(n.h3,{id:"automatic-collection",children:"Automatic Collection"}),"\n",(0,t.jsx)(n.p,{children:"Lineage tracking is automatically integrated into pipeline execution when enabled. No modifications to node logic are required\u2014the extension hooks into the pipeline execution lifecycle to capture lineage information transparently."}),"\n",(0,t.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/extensions/lineage/getting-started",children:"Getting Started"})})," - Installation and basic setup guide"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/extensions/lineage/configuration",children:"Configuration"})})," - Configuration options and settings"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/extensions/lineage/architecture",children:"Architecture"})})," - Architecture and implementation details"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/extensions/lineage/performance",children:"Performance"})})," - Performance characteristics and optimization strategies"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/extensions/lineage/use-cases",children:"Use Cases"})})," - Common use cases and examples"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/samples/extensions",children:"Extension Samples"})})," - Sample applications for all extensions including lineage"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/core-concepts",children:"NPipeline Core Concepts"})})," - Core pipeline concepts"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/extensions",children:"NPipeline Extensions"})})," - Other available extensions"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);