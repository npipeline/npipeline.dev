"use strict";(self.webpackChunknpipeline=self.webpackChunknpipeline||[]).push([[3402],{3739:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"extensions/lineage/getting-started","title":"Getting Started with Lineage","description":"Installation and basic setup guide for NPipeline Lineage extension.","source":"@site/docs/extensions/lineage/getting-started.md","sourceDirName":"extensions/lineage","slug":"/extensions/lineage/getting-started","permalink":"/docs/extensions/lineage/getting-started","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Getting Started with Lineage","description":"Installation and basic setup guide for NPipeline Lineage extension."},"sidebar":"docsSidebar","previous":{"title":"Lineage Configuration","permalink":"/docs/extensions/lineage/configuration"},"next":{"title":"Lineage Performance","permalink":"/docs/extensions/lineage/performance"}}');var s=i(74848),r=i(28453);const l={title:"Getting Started with Lineage",description:"Installation and basic setup guide for NPipeline Lineage extension."},a="Getting Started with Lineage",c={},d=[{value:"Installation",id:"installation",level:2},{value:"Basic Setup",id:"basic-setup",level:2},{value:"Quick Start with Dependency Injection",id:"quick-start-with-dependency-injection",level:3},{value:"Enable Lineage in Pipeline",id:"enable-lineage-in-pipeline",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"What Gets Tracked",id:"what-gets-tracked",level:2},{value:"Next Steps",id:"next-steps",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"getting-started-with-lineage",children:"Getting Started with Lineage"})}),"\n",(0,s.jsx)(n.p,{children:"This guide covers installation and basic setup for NPipeline Lineage extension."}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.p,{children:"Install the Lineage extension via NuGet:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dotnet add package NPipeline.Extensions.Lineage\n"})}),"\n",(0,s.jsx)(n.p,{children:"The extension requires:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NPipeline"})," (core package)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Microsoft.Extensions.DependencyInjection.Abstractions"})," (10.0.1 or later)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Microsoft.Extensions.Logging.Abstractions"})," (10.0.1 or later)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,s.jsx)(n.h3,{id:"quick-start-with-dependency-injection",children:"Quick Start with Dependency Injection"}),"\n",(0,s.jsx)(n.p,{children:"The simplest way to enable lineage tracking is through dependency injection:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"using Microsoft.Extensions.DependencyInjection;\nusing NPipeline.Lineage.DependencyInjection;\n\nvar services = new ServiceCollection();\n\n// Add lineage services with default logging sink\nservices.AddNPipelineLineage();\n\n// Add NPipeline core services\nservices.AddNPipeline(Assembly.GetExecutingAssembly());\n\nvar serviceProvider = services.BuildServiceProvider();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"enable-lineage-in-pipeline",children:"Enable Lineage in Pipeline"}),"\n",(0,s.jsx)(n.p,{children:"Configure lineage tracking on your pipeline builder:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using NPipeline.Lineage;\nusing NPipeline.Pipeline;\n\nvar builder = new PipelineBuilder("MyPipeline");\n\n// Enable item-level lineage tracking with default options\nbuilder.EnableItemLevelLineage();\n\n// Add pipeline-level lineage sink\nbuilder.UseLoggingPipelineLineageSink();\n'})}),"\n",(0,s.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,s.jsx)(n.p,{children:"Here's a fully working example demonstrating basic lineage setup:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\nusing Microsoft.Extensions.Logging;\nusing NPipeline.DataFlow;\nusing NPipeline.DataFlow.DataPipes;\nusing NPipeline.Lineage;\nusing NPipeline.Lineage.DependencyInjection;\nusing NPipeline.Nodes;\nusing NPipeline.Pipeline;\n\npublic class OrderPipeline : IPipelineDefinition\n{\n    public void Define(PipelineBuilder builder, PipelineContext context)\n    {\n        var source = builder.AddSource<OrderSource, Order>();\n        var validate = builder.AddTransform<OrderValidationTransform, Order, ValidatedOrder>();\n        var sink = builder.AddSink<OrderSink, ValidatedOrder>();\n\n        builder.Connect(source, validate);\n        builder.Connect(validate, sink);\n    }\n}\n\npublic sealed class OrderSource : SourceNode<Order>\n{\n    public IDataPipe<Order> ExecuteAsync(PipelineContext context, CancellationToken cancellationToken = default)\n    {\n        static async IAsyncEnumerable<Order> GenerateOrders()\n        {\n            for (int i = 1; i <= 100; i++)\n            {\n                yield return new Order(i, $"Customer_{i}", 100 * i);\n            }\n        }\n\n        return new StreamingDataPipe<Order>(GenerateOrders());\n    }\n}\n\npublic sealed class OrderValidationTransform : TransformNode<Order, ValidatedOrder>\n{\n    public override Task<ValidatedOrder> ExecuteAsync(Order item, PipelineContext context, CancellationToken cancellationToken = default)\n    {\n        var isValid = item.Amount > 0 && item.CustomerId.Length > 0;\n        return Task.FromResult(new ValidatedOrder(item, isValid));\n    }\n}\n\npublic sealed class OrderSink : SinkNode<ValidatedOrder>\n{\n    public async Task ExecuteAsync(IDataPipe<ValidatedOrder> input, PipelineContext context, IPipelineActivity parentActivity, CancellationToken cancellationToken = default)\n    {\n        await foreach (var item in input.WithCancellation(cancellationToken))\n        {\n            Console.WriteLine($"Processed Order {item.OrderId}: Valid={item.IsValid}");\n        }\n    }\n}\n\npublic class Program\n{\n    public static async Task Main(string[] args)\n    {\n        var host = Host.CreateDefaultBuilder()\n            .ConfigureServices((context, services) =>\n            {\n                services.AddLogging(loggingBuilder => loggingBuilder.AddConsole());\n                services.AddNPipeline(typeof(Program).Assembly);\n                services.AddNPipelineLineage();\n            })\n            .Build();\n\n        await using var scope = host.Services.CreateAsyncScope();\n        var runner = scope.ServiceProvider.GetRequiredService<IPipelineRunner>();\n        var collector = scope.ServiceProvider.GetRequiredService<ILineageCollector>();\n\n        // Create context with lineage tracking\n        var builder = new PipelineBuilder("OrderPipeline");\n        builder.EnableItemLevelLineage();\n        builder.UseLoggingPipelineLineageSink();\n\n        var pipeline = new OrderPipeline();\n        pipeline.Define(builder, new PipelineContext());\n\n        // Run pipeline - lineage is automatically collected\n        await runner.RunAsync(builder.Build(), new PipelineContext());\n\n        // Access collected lineage data\n        Console.WriteLine($"\\nCollected lineage for {collector.GetAllLineageInfo().Count()} items");\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"what-gets-tracked",children:"What Gets Tracked"}),"\n",(0,s.jsx)(n.p,{children:"With default configuration, lineage tracking captures:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"For each item:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Unique lineage ID"}),"\n",(0,s.jsx)(n.li,{children:"Complete traversal path (all node IDs)"}),"\n",(0,s.jsx)(n.li,{children:"Per-hop details (node, outcome, cardinality, counts)"}),"\n",(0,s.jsx)(n.li,{children:"Original data (unless redacted)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"For the pipeline:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All nodes and their connections"}),"\n",(0,s.jsx)(n.li,{children:"Execution summary statistics"}),"\n",(0,s.jsx)(n.li,{children:"Run metadata (ID, timestamps)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/extensions/lineage/configuration",children:"Configuration Guide"})})," - Learn about configuration options for sampling, redaction, and overflow policies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/extensions/lineage/architecture",children:"Architecture"})})," - Understand the internal architecture and design decisions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/extensions/lineage/performance",children:"Performance"})})," - Learn about performance characteristics and optimization strategies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/extensions/lineage/use-cases",children:"Use Cases"})})," - Explore common use cases and advanced examples"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/samples/extensions",children:"Extension Samples"})})," - Sample applications for all extensions including lineage"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var t=i(96540);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);