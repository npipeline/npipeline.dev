"use strict";(self.webpackChunknpipeline=self.webpackChunknpipeline||[]).push([[4324],{3014:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"getting-started/quick-start","title":"Quick Start","description":"Build your first NPipeline with a simple \\"Hello World\\" example.","source":"@site/docs/getting-started/quick-start.md","sourceDirName":"getting-started","slug":"/getting-started/quick-start","permalink":"/docs/getting-started/quick-start","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Quick Start","description":"Build your first NPipeline with a simple \\"Hello World\\" example.","sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Installation","permalink":"/docs/getting-started/installation"},"next":{"title":"Core Concepts","permalink":"/docs/core-concepts"}}');var s=i(4848),t=i(8453);const l={title:"Quick Start",description:'Build your first NPipeline with a simple "Hello World" example.',sidebar_position:2},o="Quick Start: Your First NPipeline",a={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Define Your Nodes",id:"step-1-define-your-nodes",level:2},{value:"Step 2: Run the Pipeline",id:"step-2-run-the-pipeline",level:2},{value:"Expected Output",id:"expected-output",level:2},{value:"Understanding the Design: Synchronous Pipe Creation + Asynchronous Data Flow",id:"understanding-the-design-synchronous-pipe-creation--asynchronous-data-flow",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"quick-start-your-first-npipeline",children:"Quick Start: Your First NPipeline"})}),"\n",(0,s.jsx)(n.p,{children:'This quick start guide will walk you through creating a basic "Hello World" pipeline using NPipeline. This example demonstrates the core concepts of defining a source, a transform, and a sink.'}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["NPipeline and its core dependencies installed (see ",(0,s.jsx)(n.a,{href:"/docs/getting-started/installation",children:"Installation"}),")."]}),"\n",(0,s.jsx)(n.li,{children:"A .NET project set up (e.g., a Console Application)."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-1-define-your-nodes",children:"Step 1: Define Your Nodes"}),"\n",(0,s.jsx)(n.p,{children:'In NPipeline, a pipeline is composed of interconnected nodes. We\'ll define three types for our "Hello World":'}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Source:"}),' To produce our "Hello World" message.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transform:"})," To modify the message (e.g., convert to uppercase)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sink:"})," To consume and display the final message."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"First, let's create a simple console application. If you haven't already, create a new console project:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dotnet new console -n NpipelineHelloWorld\r\ncd NpipelineHelloWorld\r\ndotnet add package NPipeline\r\ndotnet add package NPipeline.Extensions.DependencyInjection\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Now, replace the content of your ",(0,s.jsx)(n.code,{children:"Program.cs"})," file with the following:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using Microsoft.Extensions.DependencyInjection;\r\nusing Microsoft.Extensions.Hosting;\r\nusing NPipeline;\r\nusing NPipeline.DataFlow;\r\nusing NPipeline.DataFlow.DataPipes;\r\nusing NPipeline.Execution;\r\nusing NPipeline.Extensions.DependencyInjection;\r\nusing NPipeline.Nodes;\r\nusing NPipeline.Observability;\r\nusing NPipeline.Pipeline;\r\n\r\nnamespace NpipelineHelloWorld;\r\n\r\n// 1. Define a Source Node\r\n// This node will produce a single "Hello World!" string.\r\npublic sealed class HelloWorldSource : SourceNode<string>\r\n{\r\n    public override IDataPipe<string> ExecuteAsync(\r\n        PipelineContext context,\r\n        CancellationToken cancellationToken = default)\r\n    {\r\n        Console.WriteLine("Source: Producing \'Hello World!\'");\r\n        static IAsyncEnumerable<string> Stream()\r\n        {\r\n            return GenerateMessage();\r\n\r\n            async IAsyncEnumerable<string> GenerateMessage()\r\n            {\r\n                yield return "Hello World!";\r\n            }\r\n        }\r\n\r\n        return new StreamingDataPipe<string>(Stream());\r\n    }\r\n}\r\n\r\n// 2. Define a Transform Node\r\n// This node will convert the incoming string to uppercase.\r\npublic sealed class UppercaseTransform : TransformNode<string, string>\r\n{\r\n    public override Task<string> ExecuteAsync(\r\n        string item,\r\n        PipelineContext context,\r\n        CancellationToken cancellationToken = default)\r\n    {\r\n        var result = item.ToUpperInvariant();\r\n        Console.WriteLine($"Transform: Transforming \'{item}\' to \'{result}\'");\r\n        return Task.FromResult(result);\r\n    }\r\n}\r\n\r\n// 3. Define a Sink Node\r\n// This node will consume the final string and print it to the console.\r\npublic sealed class ConsoleSink : SinkNode<string>\r\n{\r\n    public override async Task ExecuteAsync(\r\n        IDataPipe<string> input,\r\n        PipelineContext context,\r\n        CancellationToken cancellationToken = default)\r\n    {\r\n        await foreach (var item in input.WithCancellation(cancellationToken))\r\n        {\r\n            Console.WriteLine($"Sink: Consuming and displaying: {item}");\r\n        }\r\n    }\r\n}\r\n\r\n// 4. Define the Pipeline\r\npublic sealed class HelloWorldPipeline : IPipelineDefinition\r\n{\r\n    public void Define(PipelineBuilder builder, PipelineContext context)\r\n    {\r\n        var sourceHandle = builder.AddSource<HelloWorldSource, string>();\r\n        var transformHandle = builder.AddTransform<UppercaseTransform, string, string>();\r\n        var sinkHandle = builder.AddSink<ConsoleSink, string>();\r\n\r\n        builder.Connect(sourceHandle, transformHandle);\r\n        builder.Connect(transformHandle, sinkHandle);\r\n    }\r\n}\r\n\r\npublic static class Program\r\n{\r\n    public static async Task Main(string[] args)\r\n    {\r\n        // Set up dependency injection\r\n        var services = new ServiceCollection();\r\n\r\n        // Add NPipeline services\r\n        services.AddNPipeline(Assembly.GetExecutingAssembly());\r\n\r\n        var serviceProvider = services.BuildServiceProvider();\r\n\r\n        Console.WriteLine("Starting pipeline...");\r\n\r\n        // Use DI to get the pipeline runner\r\n        using var scope = serviceProvider.CreateScope();\r\n        var runner = scope.ServiceProvider.GetRequiredService<IPipelineRunner>();\r\n\r\n        await runner.RunAsync<HelloWorldPipeline>();\r\n\r\n        Console.WriteLine("Pipeline finished.");\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"step-2-run-the-pipeline",children:"Step 2: Run the Pipeline"}),"\n",(0,s.jsx)(n.p,{children:"Execute your console application:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dotnet run\n"})}),"\n",(0,s.jsx)(n.h2,{id:"expected-output",children:"Expected Output"}),"\n",(0,s.jsx)(n.p,{children:"You should see output similar to this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"Starting pipeline...\r\nSource: Producing 'Hello World!'\r\nTransform: Transforming 'Hello World!' to 'HELLO WORLD!'\r\nSink: Consuming and displaying: HELLO WORLD!\r\nPipeline finished.\n"})}),"\n",(0,s.jsx)(n.p,{children:"This simple example illustrates the fundamental flow of data through an NPipeline: from a source, through a transform, and finally to a sink."}),"\n",(0,s.jsx)(n.h2,{id:"understanding-the-design-synchronous-pipe-creation--asynchronous-data-flow",children:"Understanding the Design: Synchronous Pipe Creation + Asynchronous Data Flow"}),"\n",(0,s.jsx)(n.p,{children:"You may have noticed something interesting about our source node:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"public override IDataPipe<string> ExecuteAsync(...)  // Notice: Not async!\r\n{\r\n    // Returns a pipe synchronously - no await here\r\n    return new StreamingDataPipe<string>(Stream());\r\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The method is called ",(0,s.jsx)(n.code,{children:"Execute"}),", not ",(0,s.jsx)(n.code,{children:"ExecuteAsync"}),", because it returns synchronously\u2014no await is involved!"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Phase 1 (Synchronous):"})," The source creates a pipe immediately"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"var pipe = source.Execute(context, cancellationToken);  // Returns instantly\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Phase 2 (Asynchronous):"})," The sink consumes data asynchronously"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"await foreach (var item in input.WithCancellation(cancellationToken))  // Async here\r\n{\r\n    // Process each item as it arrives\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why This Design?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simplicity:"})," Pipe creation is fast and synchronous"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type Safety:"})," Direct ",(0,s.jsx)(n.code,{children:"IDataPipe<T>"})," returns enable better type compatibility"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance:"})," No unnecessary Task allocations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clarity:"}),' "ExecuteAsync" signals you\'re in the async pipeline system, but the pipe is ready to use immediately']}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Think of it like opening a file: ",(0,s.jsx)(n.code,{children:"File.OpenRead()"})," is synchronous and returns immediately, but ",(0,s.jsx)(n.code,{children:"stream.ReadAsync()"})," is asynchronous when you actually read data from it."]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts",children:"Core Concepts"})}),": Deep dive into the ",(0,s.jsx)(n.code,{children:"IDataPipe"}),", ",(0,s.jsx)(n.code,{children:"INode"}),", ",(0,s.jsx)(n.code,{children:"IPipelineDefinition"}),", and ",(0,s.jsx)(n.code,{children:"PipelineContext"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts/common-patterns",children:"Common Patterns"})}),": See practical examples of real-world pipeline implementations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/getting-started/installation",children:"Installation"})}),": Review the installation options and available extensions"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var r=i(6540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);