"use strict";(self.webpackChunknpipeline=self.webpackChunknpipeline||[]).push([[7990],{28453:(e,n,d)=>{d.d(n,{R:()=>r,x:()=>c});var i=d(96540);const l={},s=i.createContext(l);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(s.Provider,{value:n},e.children)}},39834:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"extensions/nodes/cleansing","title":"Data Cleansing Nodes","description":"Clean and normalize string, numeric, datetime, and collection properties.","source":"@site/docs/extensions/nodes/cleansing.md","sourceDirName":"extensions/nodes","slug":"/extensions/nodes/cleansing","permalink":"/docs/extensions/nodes/cleansing","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Data Cleansing Nodes","description":"Clean and normalize string, numeric, datetime, and collection properties.","sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Nodes Extension","permalink":"/docs/extensions/nodes"},"next":{"title":"Data Validation Nodes","permalink":"/docs/extensions/nodes/validation"}}');var l=d(74848),s=d(28453);const r={title:"Data Cleansing Nodes",description:"Clean and normalize string, numeric, datetime, and collection properties.",sidebar_position:1},c="Data Cleansing Nodes",t={},a=[{value:"String Cleansing",id:"string-cleansing",level:2},{value:"Available Operations",id:"available-operations",level:3},{value:"Examples",id:"examples",level:3},{value:"Numeric Cleansing",id:"numeric-cleansing",level:2},{value:"Available Operations",id:"available-operations-1",level:3},{value:"Examples",id:"examples-1",level:3},{value:"Numeric Constraints with Min/Max",id:"numeric-constraints-with-minmax",level:3},{value:"DateTime Cleansing",id:"datetime-cleansing",level:2},{value:"Available Operations",id:"available-operations-2",level:3},{value:"Examples",id:"examples-2",level:3},{value:"DateTime Rounding and Clamping",id:"datetime-rounding-and-clamping",level:3},{value:"Collection Cleansing",id:"collection-cleansing",level:2},{value:"Available Operations",id:"available-operations-3",level:3},{value:"Examples",id:"examples-3",level:3},{value:"Chaining Operations",id:"chaining-operations",level:2},{value:"Thread Safety",id:"thread-safety",level:2},{value:"Performance",id:"performance",level:2},{value:"Error Handling",id:"error-handling",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"data-cleansing-nodes",children:"Data Cleansing Nodes"})}),"\n",(0,l.jsx)(n.p,{children:"Cleansing nodes normalize and clean data properties. They perform in-place transformations without changing the object's type or structure."}),"\n",(0,l.jsx)(n.h2,{id:"string-cleansing",children:"String Cleansing"}),"\n",(0,l.jsx)(n.p,{children:"Clean and normalize text data:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:"builder.AddStringCleansing<User>(x => x.Email)\n    .Trim()\n    .ToLower();\n"})}),"\n",(0,l.jsx)(n.h3,{id:"available-operations",children:"Available Operations"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Operation"}),(0,l.jsx)(n.th,{children:"Purpose"}),(0,l.jsx)(n.th,{children:"Example"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Trim()"})}),(0,l.jsx)(n.td,{children:"Remove leading/trailing whitespace"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"  hello  "'})," \u2192 ",(0,l.jsx)(n.code,{children:'"hello"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"TrimStart()"})}),(0,l.jsx)(n.td,{children:"Remove leading whitespace"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"  hello"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"hello"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"TrimEnd()"})}),(0,l.jsx)(n.td,{children:"Remove trailing whitespace"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello  "'})," \u2192 ",(0,l.jsx)(n.code,{children:'"hello"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CollapseWhitespace()"})}),(0,l.jsx)(n.td,{children:"Collapse multiple spaces"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello   world"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"hello world"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RemoveWhitespace()"})}),(0,l.jsx)(n.td,{children:"Remove all whitespace"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello world"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"helloworld"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ToLower()"})}),(0,l.jsx)(n.td,{children:"Convert to lowercase"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"Hello"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"hello"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ToUpper()"})}),(0,l.jsx)(n.td,{children:"Convert to uppercase"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"HELLO"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ToTitleCase()"})}),(0,l.jsx)(n.td,{children:"Convert to title case"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello world"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"Hello World"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ToCamelCase()"})}),(0,l.jsx)(n.td,{children:"Convert to camelCase"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello_world"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"helloWorld"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ToPascalCase()"})}),(0,l.jsx)(n.td,{children:"Convert to PascalCase"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello_world"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"HelloWorld"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ToKebabCase()"})}),(0,l.jsx)(n.td,{children:"Convert to kebab-case"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"helloWorld"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"hello-world"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RemoveSpecialCharacters()"})}),(0,l.jsx)(n.td,{children:"Remove non-alphanumeric"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello@world!"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"helloworld"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RemoveDigits()"})}),(0,l.jsx)(n.td,{children:"Remove numeric characters"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello123"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"hello"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RemoveNonAscii()"})}),(0,l.jsx)(n.td,{children:"Remove non-ASCII characters"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"caf\xe9"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"caf"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Truncate(length)"})}),(0,l.jsx)(n.td,{children:"Truncate to max length"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello world"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"hello"'})," (5)"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"EnsurePrefix(prefix)"})}),(0,l.jsx)(n.td,{children:"Add prefix if missing"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"world"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"hello world"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"EnsureSuffix(suffix)"})}),(0,l.jsx)(n.td,{children:"Add suffix if missing"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"hello world"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Replace(old, new)"})}),(0,l.jsx)(n.td,{children:"Replace substring"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"hello"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"hallo"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"StripDiacritics()"})}),(0,l.jsx)(n.td,{children:"Remove accent marks"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'"caf\xe9"'})," \u2192 ",(0,l.jsx)(n.code,{children:'"cafe"'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DefaultIfNullOrWhitespace(default)"})}),(0,l.jsx)(n.td,{children:"Use default for empty"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'""'})," \u2192 ",(0,l.jsx)(n.code,{children:'"N/A"'})]})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:'// Email normalization\nbuilder.AddStringCleansing<User>(x => x.Email)\n    .Trim()\n    .ToLower()\n    .DefaultIfNullOrWhitespace("no-email@example.com");\n\n// Name normalization\nbuilder.AddStringCleansing<Person>(x => x.FirstName)\n    .Trim()\n    .ToTitleCase();\n\n// Username cleanup\nbuilder.AddStringCleansing<Account>(x => x.Username)\n    .Trim()\n    .ToLower()\n    .RemoveSpecialCharacters();\n\n// Text sanitization\nbuilder.AddStringCleansing<Document>(x => x.Title)\n    .Trim()\n    .RemoveNonAscii()\n    .Truncate(100);\n'})}),"\n",(0,l.jsx)(n.h2,{id:"numeric-cleansing",children:"Numeric Cleansing"}),"\n",(0,l.jsx)(n.p,{children:"Clean and normalize numeric data:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:"builder.AddNumericCleansing<Order>(x => x.Discount)\n    .Clamp(0, 100)\n    .Round(2);\n"})}),"\n",(0,l.jsx)(n.h3,{id:"available-operations-1",children:"Available Operations"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Operation"}),(0,l.jsx)(n.th,{children:"Types"}),(0,l.jsx)(n.th,{children:"Example"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Round(digits)"})}),(0,l.jsx)(n.td,{children:"double, decimal"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"3.14159"})," \u2192 ",(0,l.jsx)(n.code,{children:"3.14"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Floor()"})}),(0,l.jsx)(n.td,{children:"double"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"3.9"})," \u2192 ",(0,l.jsx)(n.code,{children:"3.0"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Ceiling()"})}),(0,l.jsx)(n.td,{children:"double"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"3.1"})," \u2192 ",(0,l.jsx)(n.code,{children:"4.0"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Clamp(min, max)"})}),(0,l.jsx)(n.td,{children:"all numeric"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"150"})," \u2192 ",(0,l.jsx)(n.code,{children:"100"})," (clamped to max)"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Clamp(nullable, min, max)"})}),(0,l.jsx)(n.td,{children:"nullable numeric"}),(0,l.jsx)(n.td,{children:"clamps while preserving null"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Min(minValue)"})}),(0,l.jsx)(n.td,{children:"int, double, decimal"}),(0,l.jsxs)(n.td,{children:["convenience method: ",(0,l.jsx)(n.code,{children:"Clamp(minValue, max)"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Max(maxValue)"})}),(0,l.jsx)(n.td,{children:"int, double, decimal"}),(0,l.jsxs)(n.td,{children:["convenience method: ",(0,l.jsx)(n.code,{children:"Clamp(min, maxValue)"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"AbsoluteValue()"})}),(0,l.jsx)(n.td,{children:"double, decimal"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"-5.5"})," \u2192 ",(0,l.jsx)(n.code,{children:"5.5"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Scale(factor)"})}),(0,l.jsx)(n.td,{children:"decimal"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"10m"})," \xd7 ",(0,l.jsx)(n.code,{children:"2.5m"})," \u2192 ",(0,l.jsx)(n.code,{children:"25m"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DefaultIfNull(default)"})}),(0,l.jsx)(n.td,{children:"all nullable"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"null"})," \u2192 ",(0,l.jsx)(n.code,{children:"0"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ToZeroIfNegative()"})}),(0,l.jsx)(n.td,{children:"double, decimal"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"-5.5"})," \u2192 ",(0,l.jsx)(n.code,{children:"0"})]})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," Type-specific methods are inferred from parameter types. For example, ",(0,l.jsx)(n.code,{children:"Round()"})," works with both ",(0,l.jsx)(n.code,{children:"double"})," and ",(0,l.jsx)(n.code,{children:"decimal"})," properties through method overloading."]}),"\n",(0,l.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:"// Price normalization\nbuilder.AddNumericCleansing<Product>(x => x.Price)\n    .Clamp(0, decimal.MaxValue)\n    .Round(2);\n\n// Discount clamping\nbuilder.AddNumericCleansing<Order>(x => x.Discount)\n    .Clamp(0, 100);\n\n// Percentage cleanup\nbuilder.AddNumericCleansing<Survey>(x => x.CompletionRate)\n    .Clamp(0, 100)\n    .Round(1);\n\n// Age normalization\nbuilder.AddNumericCleansing<Person>(x => x.Age)\n    .Clamp(0, 150);\n\n// Absolute value conversion\nbuilder.AddNumericCleansing<Measurement>(x => x.Value)\n    .AbsoluteValue();\n\n// Negative value handling\nbuilder.AddNumericCleansing<Transaction>(x => x.Amount)\n    .ToZeroIfNegative();\n"})}),"\n",(0,l.jsx)(n.h3,{id:"numeric-constraints-with-minmax",children:"Numeric Constraints with Min/Max"}),"\n",(0,l.jsx)(n.p,{children:"Use Min/Max helper methods for single-bound constraints:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:"// Ensure age is at least 0 (cleaner than Clamp(0, int.MaxValue))\nbuilder.AddNumericCleansing<Person>(x => x.Age)\n    .Min(0);\n\n// Ensure quantity doesn't exceed 10000\nbuilder.AddNumericCleansing<Order>(x => x.Quantity)\n    .Max(10000);\n\n// Ensure price is at least 0.01\nbuilder.AddNumericCleansing<Product>(x => x.Price)\n    .Min(0.01m);\n\n// Clamp only the upper bound (discount can't exceed 100%)\nbuilder.AddNumericCleansing<Order>(x => x.DiscountPercent)\n    .Max(100);\n\n// Nullable numeric with minimum constraint\nbuilder.AddNumericCleansing<Item>(x => x.OptionalStock)\n    .Min(0);  // null values pass through, non-null values enforced >= 0\n"})}),"\n",(0,l.jsx)(n.h2,{id:"datetime-cleansing",children:"DateTime Cleansing"}),"\n",(0,l.jsx)(n.p,{children:"Clean and normalize date/time data:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:"builder.AddDateTimeCleansing<Event>(x => x.StartTime)\n    .SpecifyKind(DateTimeKind.Utc)\n    .ToUtc();\n"})}),"\n",(0,l.jsx)(n.h3,{id:"available-operations-2",children:"Available Operations"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Operation"}),(0,l.jsx)(n.th,{children:"Purpose"}),(0,l.jsx)(n.th,{children:"Supports Nullable"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"SpecifyKind(kind)"})}),(0,l.jsx)(n.td,{children:"Set DateTimeKind"}),(0,l.jsx)(n.td,{children:"DateTime only"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ToUtc()"})}),(0,l.jsx)(n.td,{children:"Convert to UTC"}),(0,l.jsx)(n.td,{children:"Both"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ToLocal()"})}),(0,l.jsx)(n.td,{children:"Convert to local time"}),(0,l.jsx)(n.td,{children:"Both"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"StripTime()"})}),(0,l.jsx)(n.td,{children:"Remove time component"}),(0,l.jsx)(n.td,{children:"Both"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Truncate(precision)"})}),(0,l.jsx)(n.td,{children:"Truncate to precision"}),(0,l.jsx)(n.td,{children:"Both"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RoundToMinute()"})}),(0,l.jsx)(n.td,{children:"Round to nearest minute"}),(0,l.jsx)(n.td,{children:"DateTime, DateTime?"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RoundToHour()"})}),(0,l.jsx)(n.td,{children:"Round to nearest hour"}),(0,l.jsx)(n.td,{children:"DateTime, DateTime?"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RoundToDay()"})}),(0,l.jsx)(n.td,{children:"Round to nearest day"}),(0,l.jsx)(n.td,{children:"DateTime, DateTime?"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Clamp(min, max)"})}),(0,l.jsx)(n.td,{children:"Constrain to range"}),(0,l.jsx)(n.td,{children:"DateTime, DateTime?"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DefaultIfMinValue(default)"})}),(0,l.jsx)(n.td,{children:"Replace MinValue"}),(0,l.jsx)(n.td,{children:"DateTime only"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DefaultIfMaxValue(default)"})}),(0,l.jsx)(n.td,{children:"Replace MaxValue"}),(0,l.jsx)(n.td,{children:"DateTime only"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DefaultIfNull(default)"})}),(0,l.jsx)(n.td,{children:"Replace null values"}),(0,l.jsx)(n.td,{children:"DateTime? only"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"examples-2",children:"Examples"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:"// Timestamp normalization\nbuilder.AddDateTimeCleansing<Transaction>(x => x.Timestamp)\n    .SpecifyKind(DateTimeKind.Utc)\n    .ToUtc();\n\n// Event time cleanup with rounding\nbuilder.AddDateTimeCleansing<Event>(x => x.StartTime)\n    .ToUtc()\n    .RoundToMinute();\n\n// Date normalization (remove time)\nbuilder.AddDateTimeCleansing<Document>(x => x.CreatedDate)\n    .StripTime();\n\n// Default handling for edge cases\nbuilder.AddDateTimeCleansing<Record>(x => x.DateField)\n    .DefaultIfMinValue(DateTime.UtcNow)\n    .DefaultIfMaxValue(DateTime.UtcNow);\n"})}),"\n",(0,l.jsx)(n.h3,{id:"datetime-rounding-and-clamping",children:"DateTime Rounding and Clamping"}),"\n",(0,l.jsx)(n.p,{children:"Round times and constrain to ranges:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:'// Round timestamps to nearest minute for metrics\nbuilder.AddDateTimeCleansing<Metric>(x => x.RecordedAt)\n    .RoundToMinute();\n\n// Round optional timestamps\nbuilder.AddDateTimeCleansing<Event>(x => x.OptionalEndTime)\n    .RoundToMinute();  // null values pass through unchanged\n\n// Round to nearest hour for reports\nbuilder.AddDateTimeCleansing<Report>(x => x.GeneratedAt)\n    .RoundToHour();\n\n// Clamp dates to valid range\nbuilder.AddDateTimeCleansing<Contract>(x => x.StartDate)\n    .Clamp(\n        DateTime.Now.AddYears(-1),\n        DateTime.Now.AddYears(10),\n        "Start date must be within \xb110 years");\n\n// Clamp optional dates\nbuilder.AddDateTimeCleansing<Reservation>(x => x.OptionalCheckoutDate)\n    .Clamp(DateTime.Now, DateTime.Now.AddYears(2));\n'})}),"\n",(0,l.jsx)(n.h2,{id:"collection-cleansing",children:"Collection Cleansing"}),"\n",(0,l.jsx)(n.p,{children:"Clean and normalize collection properties:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:"builder.AddCollectionCleansing<Document>(x => x.Tags)\n    .RemoveNulls()\n    .RemoveDuplicates()\n    .Sort();\n"})}),"\n",(0,l.jsx)(n.h3,{id:"available-operations-3",children:"Available Operations"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Operation"}),(0,l.jsx)(n.th,{children:"Purpose"}),(0,l.jsx)(n.th,{children:"Example"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RemoveNulls()"})}),(0,l.jsx)(n.td,{children:"Remove null entries"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"[1, null, 3]"})," \u2192 ",(0,l.jsx)(n.code,{children:"[1, 3]"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RemoveDuplicates()"})}),(0,l.jsx)(n.td,{children:"Remove duplicates"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"[1, 2, 1, 3]"})," \u2192 ",(0,l.jsx)(n.code,{children:"[1, 2, 3]"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RemoveEmpty()"})}),(0,l.jsx)(n.td,{children:"Remove empty strings"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'["a", "", "b"]'})," \u2192 ",(0,l.jsx)(n.code,{children:'["a", "b"]'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RemoveWhitespace()"})}),(0,l.jsx)(n.td,{children:"Remove whitespace strings"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:'["a", "   ", "b"]'})," \u2192 ",(0,l.jsx)(n.code,{children:'["a", "b"]'})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Sort()"})}),(0,l.jsx)(n.td,{children:"Sort ascending"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"[3, 1, 2]"})," \u2192 ",(0,l.jsx)(n.code,{children:"[1, 2, 3]"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Reverse()"})}),(0,l.jsx)(n.td,{children:"Reverse order"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"[1, 2, 3]"})," \u2192 ",(0,l.jsx)(n.code,{children:"[3, 2, 1]"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Take(count)"})}),(0,l.jsx)(n.td,{children:"Take first N items"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"[1, 2, 3, 4, 5]"})," \u2192 ",(0,l.jsx)(n.code,{children:"[1, 2, 3]"})," (3)"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Skip(count)"})}),(0,l.jsx)(n.td,{children:"Skip first N items"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"[1, 2, 3, 4, 5]"})," \u2192 ",(0,l.jsx)(n.code,{children:"[4, 5]"})," (3)"]})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"examples-3",children:"Examples"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:"// Tag cleanup\nbuilder.AddCollectionCleansing<Article>(x => x.Tags)\n    .RemoveNulls()\n    .RemoveEmpty()\n    .RemoveDuplicates()\n    .Sort();\n\n// Category deduplication\nbuilder.AddCollectionCleansing<Product>(x => x.Categories)\n    .RemoveNulls()\n    .RemoveDuplicates()\n    .Sort();\n\n// Email list cleaning\nbuilder.AddCollectionCleansing<MailingList>(x => x.Emails)\n    .RemoveNulls()\n    .RemoveEmpty()\n    .RemoveDuplicates();\n"})}),"\n",(0,l.jsx)(n.h2,{id:"chaining-operations",children:"Chaining Operations"}),"\n",(0,l.jsx)(n.p,{children:"Operations can be chained fluently:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:'// Multiple operations on same property\nbuilder.AddStringCleansing<User>(x => x.Email)\n    .Trim()\n    .ToLower()\n    .RemoveSpecialCharacters()\n    .DefaultIfNullOrWhitespace("unknown@example.com");\n\n// Multiple properties\nbuilder.AddStringCleansing<Person>(x => x.FirstName)\n    .Trim()\n    .ToTitleCase();\n\nbuilder.AddStringCleansing<Person>(x => x.LastName)\n    .Trim()\n    .ToTitleCase();\n\nbuilder.AddStringCleansing<Person>(x => x.Email)\n    .Trim()\n    .ToLower();\n'})}),"\n",(0,l.jsx)(n.h2,{id:"thread-safety",children:"Thread Safety"}),"\n",(0,l.jsx)(n.p,{children:"All cleansing nodes are stateless and thread-safe. They can be safely shared across parallel pipelines."}),"\n",(0,l.jsx)(n.h2,{id:"performance",children:"Performance"}),"\n",(0,l.jsx)(n.p,{children:"Cleansing nodes are optimized for performance:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Property access uses compiled expressions (not reflection)"}),"\n",(0,l.jsxs)(n.li,{children:["String operations use ",(0,l.jsx)(n.code,{children:"StringBuilder"})," to minimize allocations"]}),"\n",(0,l.jsx)(n.li,{children:"Numeric operations use native types (no boxing)"}),"\n",(0,l.jsx)(n.li,{children:"Collection operations are evaluated lazily where possible"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,l.jsx)(n.p,{children:"Cleansing nodes integrate with NPipeline's error handling:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:"// Custom error handler for cleansing failures\nbuilder.WithErrorHandler(cleanseHandle, new CleansingErrorHandler());\n\n// Continue processing even if cleansing fails\nbuilder.WithErrorDecision(cleanseHandle, NodeErrorDecision.Skip);\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}}}]);