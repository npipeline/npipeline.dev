"use strict";(self.webpackChunknpipeline=self.webpackChunknpipeline||[]).push([[5233],{4608:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"architecture/index","title":"Architecture Overview","description":"How NPipeline works internally.","source":"@site/docs/architecture/index.md","sourceDirName":"architecture","slug":"/architecture/","permalink":"/docs/architecture/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"title":"Architecture Overview","description":"How NPipeline works internally.","sidebar_position":12},"sidebar":"docsSidebar","previous":{"title":"Pipeline Validation Extensions - Usage Guide","permalink":"/docs/core-concepts/pipeline-validation"},"next":{"title":"Core Concepts","permalink":"/docs/architecture/core-concepts"}}');var t=i(4848),s=i(8453);const l={title:"Architecture Overview",description:"How NPipeline works internally.",sidebar_position:12},c=void 0,a={},o=[{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"Understanding NPipeline Architecture",id:"understanding-npipeline-architecture",level:2},{value:"Main Architecture Sections",id:"main-architecture-sections",level:2},{value:"Core Concepts",id:"core-concepts",level:3},{value:"Optimization Principles",id:"optimization-principles",level:3},{value:"Component Architecture",id:"component-architecture",level:3},{value:"Execution Flow",id:"execution-flow",level:3},{value:"Data Flow Details",id:"data-flow-details",level:3},{value:"Dependency Injection Integration",id:"dependency-injection-integration",level:3},{value:"Error Handling Architecture",id:"error-handling-architecture",level:3},{value:"Cancellation Model",id:"cancellation-model",level:3},{value:"Performance Characteristics",id:"performance-characteristics",level:3},{value:"Extension Points",id:"extension-points",level:3},{value:"Design Principles",id:"design-principles",level:3},{value:"High-Level Architecture Diagram",id:"high-level-architecture-diagram",level:2},{value:"\u27a1\ufe0f Next Steps",id:"arrow_right-next-steps",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",mermaid:"mermaid",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,t.jsxs)(n.p,{children:["NPipeline is built around a ",(0,t.jsx)(n.strong,{children:"graph-based, streaming data processing model"}),". This guide explains how components work together to enable efficient, composable data pipelines."]}),"\n",(0,t.jsx)(n.h2,{id:"understanding-npipeline-architecture",children:"Understanding NPipeline Architecture"}),"\n",(0,t.jsx)(n.p,{children:"NPipeline's architecture is designed around several core principles: graph-based data flow, lazy evaluation, streaming-first design, and composability. This section breaks down each major architectural component to help you understand how the system works internally."}),"\n",(0,t.jsx)(n.h2,{id:"main-architecture-sections",children:"Main Architecture Sections"}),"\n",(0,t.jsx)(n.h3,{id:"core-concepts",children:(0,t.jsx)(n.a,{href:"/docs/architecture/core-concepts",children:"Core Concepts"})}),"\n",(0,t.jsx)(n.p,{children:"Learn the fundamental architectural building blocks:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Graph-Based Architecture (DAGs)"}),"\n",(0,t.jsx)(n.li,{children:"Node Types (Source, Transform, Sink)"}),"\n",(0,t.jsxs)(n.li,{children:["Streaming Data Model with ",(0,t.jsx)(n.code,{children:"IAsyncEnumerable<T>"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"optimization-principles",children:(0,t.jsx)(n.a,{href:"/docs/architecture/optimization-principles",children:"Optimization Principles"})}),"\n",(0,t.jsx)(n.p,{children:"Understand how NPipeline achieves exceptional performance:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Plan-based execution eliminating per-item decisions"}),"\n",(0,t.jsx)(n.li,{children:"Zero reflection during steady state"}),"\n",(0,t.jsx)(n.li,{children:"ICountable for right-sized allocations"}),"\n",(0,t.jsx)(n.li,{children:"ValueTask optimization (up to 90% GC reduction)"}),"\n",(0,t.jsx)(n.li,{children:"Streaming-first design with lazy evaluation"}),"\n",(0,t.jsx)(n.li,{children:"Memory layout and cache efficiency"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"component-architecture",children:(0,t.jsx)(n.a,{href:"/docs/architecture/component-architecture",children:"Component Architecture"})}),"\n",(0,t.jsx)(n.p,{children:"Explore the major system components and their roles:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pipeline Definition (",(0,t.jsx)(n.code,{children:"IPipelineDefinition"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Pipeline Builder"}),"\n",(0,t.jsx)(n.li,{children:"Pipeline Context"}),"\n",(0,t.jsx)(n.li,{children:"Pipeline Runner"}),"\n",(0,t.jsx)(n.li,{children:"Node Execution Model"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"execution-flow",children:(0,t.jsx)(n.a,{href:"/docs/architecture/execution-flow",children:"Execution Flow"})}),"\n",(0,t.jsx)(n.p,{children:"Understand how pipelines execute data:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Sequential Execution (default)"}),"\n",(0,t.jsx)(n.li,{children:"Parallel Execution patterns"}),"\n",(0,t.jsx)(n.li,{children:"Data flow through the pipeline graph"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"data-flow-details",children:(0,t.jsx)(n.a,{href:"/docs/architecture/data-flow",children:"Data Flow Details"})}),"\n",(0,t.jsx)(n.p,{children:"Deep dive into how data moves through the system:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"How Data Pipes Work"}),"\n",(0,t.jsx)(n.li,{children:"Lazy Evaluation principles"}),"\n",(0,t.jsx)(n.li,{children:"Memory efficiency patterns"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"dependency-injection-integration",children:(0,t.jsx)(n.a,{href:"/docs/architecture/dependency-injection",children:"Dependency Injection Integration"})}),"\n",(0,t.jsx)(n.p,{children:"Learn how DI is integrated into NPipeline:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Automatic Node Resolution"}),"\n",(0,t.jsx)(n.li,{children:"Injecting Dependencies into Nodes"}),"\n",(0,t.jsx)(n.li,{children:"Service Provider Integration"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"error-handling-architecture",children:(0,t.jsx)(n.a,{href:"/docs/architecture/error-handling-architecture",children:"Error Handling Architecture"})}),"\n",(0,t.jsx)(n.p,{children:"Understand error propagation and handling:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Error Propagation mechanisms"}),"\n",(0,t.jsx)(n.li,{children:"Error Containment strategies"}),"\n",(0,t.jsx)(n.li,{children:"Dead-Letter Handling for failed items"}),"\n",(0,t.jsx)(n.li,{children:"Supporting Components (Lineage, Dead Letter Sinks, State Registry)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"cancellation-model",children:(0,t.jsx)(n.a,{href:"/docs/architecture/cancellation-model",children:"Cancellation Model"})}),"\n",(0,t.jsx)(n.p,{children:"Learn about graceful shutdown and cancellation:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Token Propagation through the pipeline"}),"\n",(0,t.jsx)(n.li,{children:"Node cancellation responsibilities"}),"\n",(0,t.jsx)(n.li,{children:"Graceful termination patterns"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"performance-characteristics",children:(0,t.jsx)(n.a,{href:"/docs/architecture/performance-characteristics",children:"Performance Characteristics"})}),"\n",(0,t.jsx)(n.p,{children:"Understand performance implications:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Memory Usage patterns"}),"\n",(0,t.jsx)(n.li,{children:"Throughput characteristics"}),"\n",(0,t.jsx)(n.li,{children:"Scalability strategies (vertical and horizontal)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"extension-points",children:(0,t.jsx)(n.a,{href:"/docs/architecture/extension-points",children:"Extension Points"})}),"\n",(0,t.jsx)(n.p,{children:"Discover how to extend NPipeline:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Custom Nodes"}),"\n",(0,t.jsx)(n.li,{children:"Custom Execution Strategies"}),"\n",(0,t.jsx)(n.li,{children:"Custom Context Data"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"design-principles",children:(0,t.jsx)(n.a,{href:"/docs/architecture/design-principles",children:"Design Principles"})}),"\n",(0,t.jsx)(n.p,{children:"Learn the core design philosophy:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Separation of Concerns"}),"\n",(0,t.jsx)(n.li,{children:"Lazy Evaluation"}),"\n",(0,t.jsx)(n.li,{children:"Streaming First"}),"\n",(0,t.jsx)(n.li,{children:"Composability"}),"\n",(0,t.jsx)(n.li,{children:"Testability"}),"\n",(0,t.jsx)(n.li,{children:"Observability"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"high-level-architecture-diagram",children:"High-Level Architecture Diagram"}),"\n",(0,t.jsx)(n.mermaid,{value:'graph TD\r\n    subgraph "Pipeline Definition Phase"\r\n        PD[PipelineDefinition] --\x3e|Defines| PB[PipelineBuilder]\r\n        PB --\x3e|Creates| Nodes[Nodes]\r\n        PB --\x3e|Connects| Graph[Execution Graph]\r\n    end\r\n\r\n    subgraph "Pipeline Execution Phase"\r\n        PR[PipelineRunner] --\x3e|Instantiates| PD\r\n        PR --\x3e|Creates| PB\r\n        PR --\x3e|Provides| PC[PipelineContext]\r\n        PC --\x3e|Contains| Items[Shared Items]\r\n        PC --\x3e|Provides| SP[ServiceProvider]\r\n        PC --\x3e|Propagates| CT[CancellationToken]\r\n\r\n        subgraph "Data Flow"\r\n            SN[SourceNode] --\x3e|Produces| DP1[IDataPipe<T>]\r\n            DP1 --\x3e|Consumes| TN1[TransformNode]\r\n            TN1 --\x3e|Transforms| DP2[IDataPipe<TOut>]\r\n            DP2 --\x3e|Consumes| TN2[TransformNode]\r\n            TN2 --\x3e|Transforms| DP3[IDataPipe<TOut2>]\r\n            DP3 --\x3e|Consumes| SK[SinkNode]\r\n        end\r\n\r\n        subgraph "Supporting Components"\r\n            PLSP[IPipelineLineageSinkProvider] --\x3e|Tracks| Lineage[Data Lineage]\r\n            DLS[IDeadLetterSink] --\x3e|Handles| FailedItems[Failed Items]\r\n            SR[StatefulRegistry] --\x3e|Manages| State[Node State]\r\n        end\r\n    end\r\n\r\n    Graph --\x3e|Executes| SN\r\n    PC --\x3e|Shared Context| SN\r\n    PC --\x3e|Shared Context| TN1\r\n    PC --\x3e|Shared Context| TN2\r\n    PC --\x3e|Shared Context| SK\r\n\r\n    Lineage --\x3e|Observes| DP1\r\n    Lineage --\x3e|Observes| DP2\r\n    Lineage --\x3e|Observes| DP3\r\n\r\n    FailedItems --\x3e|Captured by| DLS\r\n    State --\x3e|Tracked by| SR\r\n\r\n    style PD fill:#e1f5fe\r\n    style PB fill:#f3e5f5\r\n    style PR fill:#e8f5e9\r\n    style PC fill:#fff3e0\r\n    style SN fill:#e3f2fd\r\n    style TN1 fill:#e3f2fd\r\n    style TN2 fill:#e3f2fd\r\n    style SK fill:#e3f2fd\r\n    style PLSP fill:#fff8e1\r\n    style DLS fill:#ffebee\r\n    style SR fill:#f1f8e9'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Figure: NPipeline architecture showing the relationship between core components, data flow through the graph-based pipeline, and supporting components"})}),"\n",(0,t.jsxs)(n.h2,{id:"arrow_right-next-steps",children:["\u27a1\ufe0f"," Next Steps"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Start with ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/architecture/core-concepts",children:"Core Concepts"})})," to understand the fundamental building blocks"]}),"\n",(0,t.jsxs)(n.li,{children:["Explore ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/architecture/component-architecture",children:"Component Architecture"})})," to see how components interact"]}),"\n",(0,t.jsxs)(n.li,{children:["Dive into ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/core-concepts/common-patterns",children:"Common Patterns"})})," for real-world examples"]}),"\n",(0,t.jsxs)(n.li,{children:["Review ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/core-concepts/best-practices",children:"Best Practices"})})," for design guidelines"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var r=i(6540);const t={},s=r.createContext(t);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);