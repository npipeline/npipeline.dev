"use strict";(self.webpackChunknpipeline=self.webpackChunknpipeline||[]).push([[7947],{5740:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"core-concepts/resilience/retry-delay-quickstart","title":"Retry Delay Quickstart","description":"Get started quickly with retry delay strategies in NPipeline using common patterns and recommended configurations.","source":"@site/docs/core-concepts/resilience/retry-delay-quickstart.md","sourceDirName":"core-concepts/resilience","slug":"/core-concepts/resilience/retry-delay-quickstart","permalink":"/docs/core-concepts/resilience/retry-delay-quickstart","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"Retry Delay Quickstart","description":"Get started quickly with retry delay strategies in NPipeline using common patterns and recommended configurations.","sidebar_position":8},"sidebar":"docsSidebar","previous":{"title":"Circuit Breaker Configuration","permalink":"/docs/core-concepts/resilience/circuit-breaker-configuration"},"next":{"title":"Dead-Letter Queues","permalink":"/docs/core-concepts/resilience/dead-letter-queues"}}');var s=i(4848),t=i(8453);const o={title:"Retry Delay Quickstart",description:"Get started quickly with retry delay strategies in NPipeline using common patterns and recommended configurations.",sidebar_position:8},l="Retry Delay Quickstart",a={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Overview",id:"overview",level:2},{value:"\ud83d\ude80 Quick Start: Common Retry Patterns",id:"-quick-start-common-retry-patterns",level:2},{value:"Web API Calls (Most Common)",id:"web-api-calls-most-common",level:3},{value:"Database Operations",id:"database-operations",level:3},{value:"File Processing",id:"file-processing",level:3},{value:"Decision Flow for Choosing Retry Strategy",id:"decision-flow-for-choosing-retry-strategy",level:2},{value:"Implementation Examples",id:"implementation-examples",level:2},{value:"Basic Pipeline with Retry Delays",id:"basic-pipeline-with-retry-delays",level:3},{value:"Per-Node Retry Configuration",id:"per-node-retry-configuration",level:3},{value:"Common Pitfalls to Avoid",id:"common-pitfalls-to-avoid",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"See Also",id:"see-also",level:2},{value:"Related Topics",id:"related-topics",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"retry-delay-quickstart",children:"Retry Delay Quickstart"})}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"Before using retry delay strategies, you should be familiar with:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/retry-configuration",children:"Retry Configuration"})," - Basic retry options and configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/",children:"Resilience Overview"})," - Understanding resilience concepts in NPipeline"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/error-handling-guide",children:"Error Handling Guide"})," - How error handling integrates with retry strategies"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"This quickstart guide helps you get started with retry delay strategies in NPipeline. Retry delays are essential for building resilient pipelines that can recover from transient failures without overwhelming downstream services."}),"\n",(0,s.jsx)(n.h2,{id:"-quick-start-common-retry-patterns",children:"\ud83d\ude80 Quick Start: Common Retry Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"web-api-calls-most-common",children:"Web API Calls (Most Common)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"// Recommended for external API calls\ncontext.UseExponentialBackoffDelay(\n    baseDelay: TimeSpan.FromSeconds(1),\n    multiplier: 2.0,\n    maxDelay: TimeSpan.FromMinutes(1));\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why this pattern:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Exponential backoff gives services time to recover"}),"\n",(0,s.jsx)(n.li,{children:"Prevents thundering herd problems"}),"\n",(0,s.jsx)(n.li,{children:"Balanced for typical API rate limits"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"database-operations",children:"Database Operations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"// Recommended for database retry scenarios\ncontext.UseLinearBackoffDelay(\n    baseDelay: TimeSpan.FromMilliseconds(100),\n    increment: TimeSpan.FromMilliseconds(200),\n    maxDelay: TimeSpan.FromSeconds(5));\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why this pattern:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Linear growth is predictable for database connection pools"}),"\n",(0,s.jsx)(n.li,{children:"Shorter delays work well for transient lock contention"}),"\n",(0,s.jsx)(n.li,{children:"Conservative max delay prevents long-running transactions"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"file-processing",children:"File Processing"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"// Recommended for file system operations\ncontext.UseFixedDelay(TimeSpan.FromSeconds(2));\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why this pattern:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"File system recovery is typically immediate"}),"\n",(0,s.jsx)(n.li,{children:"Fixed delay provides predictable behavior"}),"\n",(0,s.jsx)(n.li,{children:"Simple and effective for I/O operations"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"decision-flow-for-choosing-retry-strategy",children:"Decision Flow for Choosing Retry Strategy"}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart TD\n    A[What type of operation?] --\x3e B{External Service?}\n    B --\x3e|Yes| C[Use Exponential Backoff]\n    B --\x3e|No| D{Database Operation?}\n    D --\x3e|Yes| E[Use Linear Backoff]\n    D --\x3e|No| F{File System?}\n    F --\x3e|Yes| G[Use Fixed Delay]\n    F --\x3e|No| H[Use Exponential Backoff<br>Default choice]\n    \n    C --\x3e I[Configure base delay: 1s<br>Configure multiplier: 2.0<br>Configure max delay: 1m]\n    E --\x3e J[Configure base delay: 100ms<br>Configure increment: 200ms<br>Configure max delay: 5s]\n    G --\x3e K[Configure delay: 2s]\n    H --\x3e I\n    \n    style A fill:#e1f5fe\n    style C fill:#e8f5e9\n    style E fill:#e8f5e9\n    style G fill:#e8f5e9\n    style I fill:#fff3e0\n    style J fill:#f3e5f5\n    style K fill:#f3e5f5"}),"\n",(0,s.jsx)(n.h2,{id:"implementation-examples",children:"Implementation Examples"}),"\n",(0,s.jsx)(n.h3,{id:"basic-pipeline-with-retry-delays",children:"Basic Pipeline with Retry Delays"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using NPipeline;\nusing NPipeline.Pipeline;\n\npublic sealed class RetryQuickstartPipeline : IPipelineDefinition\n{\n    public void Define(PipelineBuilder builder, PipelineContext context)\n    {\n        // Configure retry delay strategy based on operation type\n        context.UseExponentialBackoffDelay(\n            baseDelay: TimeSpan.FromSeconds(1),\n            multiplier: 2.0,\n            maxDelay: TimeSpan.FromMinutes(1));\n\n        var source = builder.AddSource<ApiSource, ApiResponse>("api-source");\n        var transform = builder.AddTransform<DataTransform, ApiResponse, ProcessedData>("transform");\n        var sink = builder.AddSink<DataSink, ProcessedData>("sink");\n\n        builder.Connect(source, transform);\n        builder.Connect(transform, sink);\n\n        // Configure retry options\n        builder.WithRetryOptions(new PipelineRetryOptions(\n            MaxItemRetries: 3,\n            MaxNodeRestartAttempts: 2,\n            MaxSequentialNodeAttempts: 5\n        ));\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"per-node-retry-configuration",children:"Per-Node Retry Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'public void Define(PipelineBuilder builder, PipelineContext context)\n{\n    var source = builder.AddSource<DataSource, string>("source");\n    \n    // Fast retries for in-memory operations\n    context.UseFixedDelay(TimeSpan.FromMilliseconds(50));\n    var memoryTransform = builder.AddTransform<MemoryTransform, string, string>("memory-ops");\n    \n    // Slower retries for external API calls\n    context.UseExponentialBackoffDelay(\n        baseDelay: TimeSpan.FromSeconds(1),\n        multiplier: 2.0,\n        maxDelay: TimeSpan.FromMinutes(1));\n    var apiTransform = builder.AddTransform<ApiTransform, string, string>("api-ops");\n    \n    // Default retries for other operations\n    var sink = builder.AddSink<DataSink, string>("sink");\n\n    builder.Connect(source, memoryTransform);\n    builder.Connect(memoryTransform, apiTransform);\n    builder.Connect(apiTransform, sink);\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"common-pitfalls-to-avoid",children:"Common Pitfalls to Avoid"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f"," ",(0,s.jsx)(n.strong,{children:"Common Mistake"}),": Not configuring retry delays at all"]}),"\n",(0,s.jsx)(n.p,{children:"Without retry delays, failed operations retry immediately, which can overwhelm recovering services."}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f"," ",(0,s.jsx)(n.strong,{children:"Common Mistake"}),": Using exponential backoff for in-memory operations"]}),"\n",(0,s.jsx)(n.p,{children:"In-memory operations typically recover immediately, so exponential backoff adds unnecessary delays."}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f"," ",(0,s.jsx)(n.strong,{children:"Common Mistake"}),": Setting max delay too high"]}),"\n",(0,s.jsx)(n.p,{children:"Very high max delays can cause long recovery times. Consider your SLA requirements."}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\ud83d\udca1"," ",(0,s.jsx)(n.strong,{children:"Pro Tip"}),": Always test retry behavior in development"]}),"\n",(0,s.jsx)(n.p,{children:"Use fixed delays in tests for predictable behavior, then switch to appropriate backoff in production."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/retry-configuration",children:"Retry Configuration"})}),": Detailed configuration options and advanced patterns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/advanced-topics/retry-delay-advanced",children:"Advanced Retry Delay Strategies"})}),": Complex scenarios and production patterns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/architecture/retry-delay-architecture",children:"Retry Delay Architecture"})}),": Deep dive into architectural components"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/error-handling-guide",children:"Error Handling Guide"})}),": How retry integrates with error handling"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/advanced-topics/testing-pipelines",children:"Testing Pipelines"})}),": How to test retry behavior effectively"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/retry-configuration",children:"Retry Configuration"})}),": Comprehensive retry configuration options and built-in strategies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/",children:"Resilience Overview"})}),": Understanding resilience concepts in NPipeline"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/execution-with-resilience",children:"Execution with Resilience"})}),": How retry strategies integrate with resilient execution"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/circuit-breaker-configuration",children:"Circuit Breaker Configuration"})}),": Combining circuit breakers with retry delays"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"related-topics",children:"Related Topics"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/error-handling-guide",children:"Error Handling Guide"})}),": Comprehensive error handling strategies that work with retry delays"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/materialization-and-buffering",children:"Materialization and Buffering"})}),": Buffer requirements for retry functionality"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/configuration-guide",children:"Configuration Guide"})}),": Step-by-step workflow for configuring resilience"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/core-concepts/resilience/troubleshooting",children:"Troubleshooting"})}),": Common issues and solutions for retry behavior problems"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var r=i(6540);const s={},t=r.createContext(s);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);