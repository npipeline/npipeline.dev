<svg viewBox="0 0 700 500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .node-label { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 13px; font-weight: 600; fill: #ffffff; }
      .node-type { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 10px; fill: #ffffff; opacity: 0.8; }
      .connection-label { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 11px; fill: #5a6c7d; }
      .title-text { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 16px; font-weight: 700; fill: #1a252f; }
    </style>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#94a3b8" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="700" height="500" fill="#ffffff" rx="8"/>
  
  <!-- Title -->
  <text x="350" y="30" text-anchor="middle" class="title-text">
    Graph-Based Pipeline Architecture
  </text>
  
  <!-- Source Node -->
  <g transform="translate(50, 80)">
    <rect width="140" height="70" rx="8" fill="#2563eb"/>
    <text x="70" y="35" text-anchor="middle" class="node-label">CSV Source</text>
    <text x="70" y="52" text-anchor="middle" class="node-type">Source Node</text>
  </g>
  
  <!-- Transform Node 1 -->
  <g transform="translate(280, 80)">
    <rect width="140" height="70" rx="8" fill="#7c3aed"/>
    <text x="70" y="35" text-anchor="middle" class="node-label">Parse &amp; Validate</text>
    <text x="70" y="52" text-anchor="middle" class="node-type">Transform</text>
  </g>
  
  <!-- Branch Node -->
  <g transform="translate(280, 220)">
    <rect width="140" height="70" rx="8" fill="#ea580c"/>
    <text x="70" y="35" text-anchor="middle" class="node-label">Branch</text>
    <text x="70" y="52" text-anchor="middle" class="node-type">Control Flow</text>
  </g>
  
  <!-- Transform Node 2 (Branch A) -->
  <g transform="translate(510, 150)">
    <rect width="140" height="70" rx="8" fill="#7c3aed"/>
    <text x="70" y="35" text-anchor="middle" class="node-label">Aggregate</text>
    <text x="70" y="52" text-anchor="middle" class="node-type">Transform</text>
  </g>
  
  <!-- Transform Node 3 (Branch B) -->
  <g transform="translate(510, 290)">
    <rect width="140" height="70" rx="8" fill="#7c3aed"/>
    <text x="70" y="35" text-anchor="middle" class="node-label">Enrich Data</text>
    <text x="70" y="52" text-anchor="middle" class="node-type">Transform</text>
  </g>
  
  <!-- Sink Node A -->
  <g transform="translate(510, 380)">
    <rect width="140" height="70" rx="8" fill="#059669"/>
    <text x="70" y="35" text-anchor="middle" class="node-label">Database Sink</text>
    <text x="70" y="52" text-anchor="middle" class="node-type">Sink Node</text>
  </g>
  
  <!-- Connections (arrows) -->
  <!-- Source to Transform 1 -->
  <path d="M 190 115 L 280 115" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="235" y="108" text-anchor="middle" class="connection-label">async stream</text>
  
  <!-- Transform 1 to Branch -->
  <path d="M 350 150 L 350 220" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="365" y="190" class="connection-label">pipeline</text>
  
  <!-- Branch to Transform 2 (Branch A) -->
  <path d="M 420 240 L 510 185" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="465" y="205" text-anchor="middle" class="connection-label">valid</text>
  
  <!-- Branch to Transform 3 (Branch B) -->
  <path d="M 420 270 L 510 305" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="465" y="295" text-anchor="middle" class="connection-label">priority</text>
  
  <!-- Transform 3 to Sink -->
  <path d="M 580 360 L 580 380" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Key Features -->
  <g transform="translate(50, 380)">
    <text x="0" y="0" class="connection-label" font-weight="600">Key Features:</text>
    <text x="0" y="18" class="connection-label">• Directed Acyclic Graph (DAG)</text>
    <text x="0" y="34" class="connection-label">• Type-safe connections</text>
    <text x="0" y="50" class="connection-label">• Async/await throughout</text>
    <text x="0" y="66" class="connection-label">• Compile-time validation</text>
  </g>
</svg>
