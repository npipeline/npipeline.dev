<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-analyzers/code-fixes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Code Fix Providers | NPipeline</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="robots" content="noindex, nofollow"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://npipeline.dev/docs/analyzers/code-fixes"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Code Fix Providers | NPipeline"><meta data-rh="true" name="description" content="Automated code fixes for common analyzer issues in NPipeline."><meta data-rh="true" property="og:description" content="Automated code fixes for common analyzer issues in NPipeline."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://npipeline.dev/docs/analyzers/code-fixes"><link data-rh="true" rel="alternate" href="https://npipeline.dev/docs/analyzers/code-fixes" hreflang="en"><link data-rh="true" rel="alternate" href="https://npipeline.dev/docs/analyzers/code-fixes" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Build-Time Analyzers","item":"https://npipeline.dev/docs/analyzers/"},{"@type":"ListItem","position":2,"name":"Code Fix Providers","item":"https://npipeline.dev/docs/analyzers/code-fixes"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="NPipeline RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="NPipeline Atom Feed"><link rel="stylesheet" href="/assets/css/styles.96187551.css">
<script src="/assets/js/runtime~main.d75f2967.js" defer="defer"></script>
<script src="/assets/js/main.910ddc4b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="NPipeline logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="NPipeline logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NPipeline</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/npipeline/npipeline" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/"><span title="Welcome to NPipeline" class="linkLabel_WmDU">Welcome to NPipeline</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/introduction"><span title="Introduction" class="categoryLinkLabel_W154">Introduction</span></a><button aria-label="Expand sidebar category &#x27;Introduction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/learning-paths"><span title="Learning Paths" class="linkLabel_WmDU">Learning Paths</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/getting-started"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/core-concepts"><span title="Core Concepts" class="categoryLinkLabel_W154">Core Concepts</span></a><button aria-label="Expand sidebar category &#x27;Core Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/architecture/"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a><button aria-label="Collapse sidebar category &#x27;Architecture&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/core-concepts"><span title="Core Concepts" class="linkLabel_WmDU">Core Concepts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/component-architecture"><span title="Component Architecture" class="linkLabel_WmDU">Component Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/execution-flow"><span title="Execution Flow" class="linkLabel_WmDU">Execution Flow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/data-flow"><span title="Data Flow Details" class="linkLabel_WmDU">Data Flow Details</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/dependency-injection"><span title="Dependency Injection Integration" class="linkLabel_WmDU">Dependency Injection Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/error-handling-architecture"><span title="Error Handling Architecture" class="linkLabel_WmDU">Error Handling Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/cancellation-model"><span title="Cancellation Model" class="linkLabel_WmDU">Cancellation Model</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/performance-characteristics"><span title="Performance Characteristics" class="linkLabel_WmDU">Performance Characteristics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/retry-delay-architecture"><span title="Retry Delay Strategies Architecture" class="linkLabel_WmDU">Retry Delay Strategies Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/extension-points"><span title="Extension Points" class="linkLabel_WmDU">Extension Points</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/design-principles"><span title="Design Principles" class="linkLabel_WmDU">Design Principles</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/optimization-principles"><span title="Optimization Principles - How NPipeline Achieves High Performance" class="linkLabel_WmDU">Optimization Principles - How NPipeline Achieves High Performance</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/extensions"><span title="Extensions" class="categoryLinkLabel_W154">Extensions</span></a><button aria-label="Expand sidebar category &#x27;Extensions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/connectors"><span title="Connectors" class="categoryLinkLabel_W154">Connectors</span></a><button aria-label="Expand sidebar category &#x27;Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/advanced-topics"><span title="Advanced Topics" class="categoryLinkLabel_W154">Advanced Topics</span></a><button aria-label="Expand sidebar category &#x27;Advanced Topics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/analyzers/"><span title="Build-Time Analyzers" class="categoryLinkLabel_W154">Build-Time Analyzers</span></a><button aria-label="Collapse sidebar category &#x27;Build-Time Analyzers&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/analyzers/reliability"><span title="Reliability Analyzers" class="linkLabel_WmDU">Reliability Analyzers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/analyzers/resilience"><span title="Resilience Analyzers" class="linkLabel_WmDU">Resilience Analyzers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/analyzers/performance"><span title="Performance Analyzers" class="linkLabel_WmDU">Performance Analyzers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/analyzers/data-processing"><span title="Data Processing Analyzers" class="linkLabel_WmDU">Data Processing Analyzers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/analyzers/best-practices"><span title="Best Practice Analyzers" class="linkLabel_WmDU">Best Practice Analyzers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/analyzers/configuration"><span title="Configuration Analyzers" class="linkLabel_WmDU">Configuration Analyzers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/analyzers/code-fixes"><span title="Code Fix Providers" class="linkLabel_WmDU">Code Fix Providers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/analyzers/code-mapping"><span title="NPipeline Analyzer Code Mapping Document" class="linkLabel_WmDU">NPipeline Analyzer Code Mapping Document</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/samples-guide"><span title="Sample Applications" class="linkLabel_WmDU">Sample Applications</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/reference"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a><button aria-label="Expand sidebar category &#x27;Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/analyzers/"><span>Build-Time Analyzers</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Code Fix Providers</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Code Fix Providers</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="code-fix-providers">Code Fix Providers<a href="#code-fix-providers" class="hash-link" aria-label="Direct link to Code Fix Providers" title="Direct link to Code Fix Providers" translate="no">​</a></h2>
<p>NPipeline analyzers include automated code fix providers that can automatically resolve many common issues detected by the analyzers. These code fixes appear as light bulb suggestions in Visual Studio and can be applied with a single click.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h3>
<p>Code fix providers help developers quickly resolve analyzer warnings by:</p>
<ol>
<li class=""><strong>Automatically generating correct code patterns</strong> - No need to remember exact syntax</li>
<li class=""><strong>Applying framework best practices</strong> - Fixes follow NPipeline conventions</li>
<li class=""><strong>Reducing cognitive load</strong> - Focus on business logic instead of boilerplate</li>
<li class=""><strong>Preventing copy-paste errors</strong> - Consistent, correct implementations</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="available-code-fixes">Available Code Fixes<a href="#available-code-fixes" class="hash-link" aria-label="Direct link to Available Code Fixes" title="Direct link to Available Code Fixes" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9501-unbounded-materialization-configuration">NP9501: Unbounded Materialization Configuration<a href="#np9501-unbounded-materialization-configuration" class="hash-link" aria-label="Direct link to NP9501: Unbounded Materialization Configuration" title="Direct link to NP9501: Unbounded Materialization Configuration" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>UnboundedMaterializationConfigurationCodeFixProvider</code></p>
<p>This code fix automatically adds appropriate <code>MaxMaterializedItems</code> values to <code>PipelineRetryOptions</code> constructors.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix">Before Fix<a href="#before-fix" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ Missing MaxMaterializedItems parameter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var retryOptions = new PipelineRetryOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxRetryCount: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseDelay: TimeSpan.FromSeconds(1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxDelay: TimeSpan.FromMinutes(1));</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix">After Fix<a href="#after-fix" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ Fixed with reasonable default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var retryOptions = new PipelineRetryOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxRetryCount: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseDelay: TimeSpan.FromSeconds(1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxDelay: TimeSpan.FromMinutes(1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxMaterializedItems: 1000);</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="fix-options">Fix Options<a href="#fix-options" class="hash-link" aria-label="Direct link to Fix Options" title="Direct link to Fix Options" translate="no">​</a></h5>
<p>The code fix provider offers several options based on context:</p>
<table><thead><tr><th>Option</th><th>Value</th><th>Use Case</th></tr></thead><tbody><tr><td>Conservative</td><td>100</td><td>Memory-constrained environments</td></tr><tr><td>Balanced</td><td>1000</td><td>General purpose scenarios</td></tr><tr><td>High Throughput</td><td>10000</td><td>High-performance scenarios</td></tr><tr><td>Custom</td><td>Prompts for value</td><td>Specific requirements</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9502-inappropriate-parallelism-configuration">NP9502: Inappropriate Parallelism Configuration<a href="#np9502-inappropriate-parallelism-configuration" class="hash-link" aria-label="Direct link to NP9502: Inappropriate Parallelism Configuration" title="Direct link to NP9502: Inappropriate Parallelism Configuration" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>InappropriateParallelismConfigurationCodeFixProvider</code></p>
<p>This code fix suggests appropriate parallelism values based on workload type and system characteristics.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-1">Before Fix<a href="#before-fix-1" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ Excessive parallelism for CPU-bound work</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;CpuTransform, Input, Output&gt;(&quot;transform&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .WithParallelism(Environment.ProcessorCount * 4);</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-1">After Fix<a href="#after-fix-1" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ Fixed with appropriate parallelism</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;CpuTransform, Input, Output&gt;(&quot;transform&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .WithParallelism(Environment.ProcessorCount);</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="fix-options-1">Fix Options<a href="#fix-options-1" class="hash-link" aria-label="Direct link to Fix Options" title="Direct link to Fix Options" translate="no">​</a></h5>
<table><thead><tr><th>Workload Type</th><th>Suggested Parallelism</th><th>Rationale</th></tr></thead><tbody><tr><td>CPU-bound</td><td><code>Environment.ProcessorCount</code></td><td>Matches available cores</td></tr><tr><td>I/O-bound</td><td><code>Environment.ProcessorCount * 2</code></td><td>I/O can handle more concurrency</td></tr><tr><td>Mixed</td><td><code>Environment.ProcessorCount * 1.5</code></td><td>Balanced approach</td></tr><tr><td>Memory-intensive</td><td><code>Environment.ProcessorCount / 2</code></td><td>Conservative resource usage</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9503-batching-configuration-mismatch">NP9503: Batching Configuration Mismatch<a href="#np9503-batching-configuration-mismatch" class="hash-link" aria-label="Direct link to NP9503: Batching Configuration Mismatch" title="Direct link to NP9503: Batching Configuration Mismatch" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>BatchingConfigurationMismatchCodeFixProvider</code></p>
<p>This code fix aligns batch sizes with appropriate timeout values based on processing characteristics.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-2">Before Fix<a href="#before-fix-2" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ Large batch with short timeout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var batchingOptions = new BatchingOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    batchSize: 1000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout: TimeSpan.FromMilliseconds(100));</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-2">After Fix<a href="#after-fix-2" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ Fixed with proportional timeout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var batchingOptions = new BatchingOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    batchSize: 1000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout: TimeSpan.FromSeconds(5));</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="fix-strategies">Fix Strategies<a href="#fix-strategies" class="hash-link" aria-label="Direct link to Fix Strategies" title="Direct link to Fix Strategies" translate="no">​</a></h5>
<table><thead><tr><th>Batch Size</th><th>Recommended Timeout</th><th>Calculation Method</th></tr></thead><tbody><tr><td>1-10</td><td>50-500ms</td><td>50ms per item</td></tr><tr><td>10-100</td><td>500ms-2s</td><td>20ms per item</td></tr><tr><td>100-1000</td><td>1-10s</td><td>10ms per item</td></tr><tr><td>1000+</td><td>5-30s</td><td>5ms per item</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9504-timeout-configuration-issues">NP9504: Timeout Configuration Issues<a href="#np9504-timeout-configuration-issues" class="hash-link" aria-label="Direct link to NP9504: Timeout Configuration Issues" title="Direct link to NP9504: Timeout Configuration Issues" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>TimeoutConfigurationCodeFixProvider</code></p>
<p>This code fix suggests appropriate timeout values based on operation type and characteristics.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-3">Before Fix<a href="#before-fix-3" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ Zero timeout for I/O operations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;DatabaseTransform, Input, Output&gt;(&quot;transform&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .WithTimeout(TimeSpan.Zero);</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-3">After Fix<a href="#after-fix-3" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ Fixed with appropriate timeout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;DatabaseTransform, Input, Output&gt;(&quot;transform&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .WithTimeout(TimeSpan.FromSeconds(30));</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="timeout-recommendations">Timeout Recommendations<a href="#timeout-recommendations" class="hash-link" aria-label="Direct link to Timeout Recommendations" title="Direct link to Timeout Recommendations" translate="no">​</a></h5>
<table><thead><tr><th>Operation Type</th><th>Suggested Timeout</th><th>Maximum</th></tr></thead><tbody><tr><td>Database I/O</td><td>30 seconds</td><td>5 minutes</td></tr><tr><td>Network I/O</td><td>10 seconds</td><td>2 minutes</td></tr><tr><td>File I/O</td><td>60 seconds</td><td>10 minutes</td></tr><tr><td>CPU-bound</td><td>2 minutes</td><td>30 minutes</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9101-blocking-operations-in-async-methods">NP9101: Blocking Operations in Async Methods<a href="#np9101-blocking-operations-in-async-methods" class="hash-link" aria-label="Direct link to NP9101: Blocking Operations in Async Methods" title="Direct link to NP9101: Blocking Operations in Async Methods" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>BlockingAsyncOperationCodeFixProvider</code></p>
<p>This code fix automatically converts blocking operations in async methods to proper async patterns.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-4">Before Fix<a href="#before-fix-4" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Blocking on Task.Result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task&lt;string&gt; ProcessDataAsync()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var task = SomeOperationAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return task.Result; // NP9101: Blocks until task completes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Synchronous I/O in async method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessFileAsync()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var content = File.ReadAllText(&quot;file.txt&quot;); // NP9101: Synchronous I/O</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await ProcessAsync(content);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-4">After Fix<a href="#after-fix-4" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Use await</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task&lt;string&gt; ProcessDataAsync()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var task = SomeOperationAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return await task; // Properly awaits without blocking</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Use async I/O</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessFileAsync()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var content = await File.ReadAllTextAsync(&quot;file.txt&quot;); // Async I/O</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await ProcessAsync(content);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9102-swallowed-operationcanceledexception">NP9102: Swallowed OperationCanceledException<a href="#np9102-swallowed-operationcanceledexception" class="hash-link" aria-label="Direct link to NP9102: Swallowed OperationCanceledException" title="Direct link to NP9102: Swallowed OperationCanceledException" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>OperationCanceledExceptionCodeFixProvider</code></p>
<p>This code fix ensures that OperationCanceledException is properly re-thrown or handled to maintain cancellation contracts.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-5">Before Fix<a href="#before-fix-5" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Swallowing OperationCanceledException</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessAsync(CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await SomeOperationAsync(cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    catch (OperationCanceledException)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // NP9102: Silently swallowing cancellation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Console.WriteLine(&quot;Operation cancelled&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-5">After Fix<a href="#after-fix-5" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Re-throw cancellation exception</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessAsync(CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await SomeOperationAsync(cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    catch (OperationCanceledException) when (cancellationToken.IsCancellationRequested)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw; // Re-throw to propagate cancellation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    catch (OperationCanceledException)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Handle other cancellation scenarios</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9103-synchronous-over-async-patterns">NP9103: Synchronous over Async Patterns<a href="#np9103-synchronous-over-async-patterns" class="hash-link" aria-label="Direct link to NP9103: Synchronous over Async Patterns" title="Direct link to NP9103: Synchronous over Async Patterns" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>SynchronousOverAsyncCodeFixProvider</code></p>
<p>This code fix converts fire-and-forget async calls to properly awaited async operations.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-6">Before Fix<a href="#before-fix-6" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Fire-and-forget async call (unawaited)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessDataAsync()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SomeOperationAsync(); // NP9103: Async method not awaited</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DoSomethingElse();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-6">After Fix<a href="#after-fix-6" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Await the async call</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessDataAsync()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await SomeOperationAsync(); // Properly awaited</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DoSomethingElse();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9104-cancellation-token-not-respected">NP9104: Cancellation Token Not Respected<a href="#np9104-cancellation-token-not-respected" class="hash-link" aria-label="Direct link to NP9104: Cancellation Token Not Respected" title="Direct link to NP9104: Cancellation Token Not Respected" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>CancellationTokenRespectCodeFixProvider</code></p>
<p>This code fix adds proper cancellation token checking and propagation in long-running operations.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-7">Before Fix<a href="#before-fix-7" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Not checking cancellation token in loop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessItemsAsync(IEnumerable&lt;Item&gt; items, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach (var item in items)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // NP9104: Not checking cancellation token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await ProcessItemAsync(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-7">After Fix<a href="#after-fix-7" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Check cancellation token before processing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessItemsAsync(IEnumerable&lt;Item&gt; items, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach (var item in items)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cancellationToken.ThrowIfCancellationRequested();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await ProcessItemAsync(item, cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9201-linq-operations-in-hot-paths">NP9201: LINQ Operations in Hot Paths<a href="#np9201-linq-operations-in-hot-paths" class="hash-link" aria-label="Direct link to NP9201: LINQ Operations in Hot Paths" title="Direct link to NP9201: LINQ Operations in Hot Paths" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>LinqInHotPathsCodeFixProvider</code></p>
<p>This code fix converts LINQ operations in performance-critical code to imperative alternatives.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-8">Before Fix<a href="#before-fix-8" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: LINQ in ExecuteAsync method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BadTransform : ITransformNode&lt;Input, Output&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task&lt;Output&gt; ExecuteAsync(Input input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // NP9201: LINQ in hot path creates allocations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var filtered = input.Items.Where(x =&gt; x.IsActive).ToList();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var sorted = filtered.OrderBy(x =&gt; x.Priority).ToList();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Output(sorted);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-8">After Fix<a href="#after-fix-8" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Use imperative processing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GoodTransform : ITransformNode&lt;Input, Output&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task&lt;Output&gt; ExecuteAsync(Input input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var filtered = new List&lt;Item&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var item in input.Items)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (item.IsActive)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                filtered.Add(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        filtered.Sort((x, y) =&gt; x.Priority.CompareTo(y.Priority));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Output(filtered);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9202-inefficient-string-operations">NP9202: Inefficient String Operations<a href="#np9202-inefficient-string-operations" class="hash-link" aria-label="Direct link to NP9202: Inefficient String Operations" title="Direct link to NP9202: Inefficient String Operations" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>InefficientStringOperationsCodeFixProvider</code></p>
<p>This code fix replaces inefficient string operations with high-performance alternatives.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-9">Before Fix<a href="#before-fix-9" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: String concatenation in loop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BadTransform : ITransformNode&lt;Input, Output&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task&lt;Output&gt; ExecuteAsync(Input input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        string result = &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var item in input.Items) // NP9202: Concatenation in loop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            result += item.ToString(); // Creates new string each iteration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Output(result);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-9">After Fix<a href="#after-fix-9" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Use StringBuilder for concatenation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GoodTransform : ITransformNode&lt;Input, Output&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task&lt;Output&gt; ExecuteAsync(Input input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var sb = new StringBuilder();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var item in input.Items)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sb.Append(item.ToString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Output(sb.ToString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9203-anonymous-object-allocation">NP9203: Anonymous Object Allocation<a href="#np9203-anonymous-object-allocation" class="hash-link" aria-label="Direct link to NP9203: Anonymous Object Allocation" title="Direct link to NP9203: Anonymous Object Allocation" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>AnonymousObjectAllocationCodeFixProvider</code></p>
<p>This code fix creates named types to replace anonymous object allocations in performance-critical code.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-10">Before Fix<a href="#before-fix-10" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Anonymous objects in ExecuteAsync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected override async Task ExecuteAsync(IDataPipe&lt;Output&gt; output, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach (var item in inputItems)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // NP9203: Anonymous object allocation in hot path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var result = new { Id = item.Id, Name = item.Name, Value = item.Value * 2 };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await output.ProduceAsync(new Output(result), cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-10">After Fix<a href="#after-fix-10" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Define named type for results</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public record ProcessedItem(int Id, string Name, double Value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected override async Task ExecuteAsync(IDataPipe&lt;Output&gt; output, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach (var item in inputItems)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var result = new ProcessedItem(item.Id, item.Name, item.Value * 2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await output.ProduceAsync(new Output(result), cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9204-missing-valuetask-optimization">NP9204: Missing ValueTask Optimization<a href="#np9204-missing-valuetask-optimization" class="hash-link" aria-label="Direct link to NP9204: Missing ValueTask Optimization" title="Direct link to NP9204: Missing ValueTask Optimization" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>ValueTaskOptimizationCodeFixProvider</code></p>
<p>This code fix converts Task return types to ValueTask for methods that frequently complete synchronously.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-11">Before Fix<a href="#before-fix-11" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Allocates heap object even for synchronous completions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task&lt;string&gt; GetDataAsync(string id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var cached = _cache.Get(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (cached != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return cached; // Allocates Task on heap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return await FetchFromDatabaseAsync(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-11">After Fix<a href="#after-fix-11" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: No allocation for synchronous returns</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async ValueTask&lt;string&gt; GetDataAsync(string id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var cached = _cache.Get(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (cached != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return cached; // No allocation - synchronous completion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return await FetchFromDatabaseAsync(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9205-non-streaming-patterns-in-sourcenode">NP9205: Non-Streaming Patterns in SourceNode<a href="#np9205-non-streaming-patterns-in-sourcenode" class="hash-link" aria-label="Direct link to NP9205: Non-Streaming Patterns in SourceNode" title="Direct link to NP9205: Non-Streaming Patterns in SourceNode" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>SourceNodeStreamingCodeFixProvider</code></p>
<p>This code fix converts non-streaming SourceNode implementations to proper streaming patterns using IAsyncEnumerable.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-12">Before Fix<a href="#before-fix-12" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Non-streaming implementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BadSourceNode : ISourceNode&lt;Output&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task ExecuteAsync(IDataPipe&lt;Output&gt; output, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var items = await LoadAllItemsAsync(); // Loads everything into memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var item in items)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            await output.ProduceAsync(item, cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-12">After Fix<a href="#after-fix-12" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Streaming implementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GoodSourceNode : ISourceNode&lt;Output&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task ExecuteAsync(IDataPipe&lt;Output&gt; output, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await foreach (var item in GetItemsAsync(cancellationToken))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            await output.ProduceAsync(item, cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private async IAsyncEnumerable&lt;Output&gt; GetItemsAsync([EnumeratorCancellation] CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Stream items one at a time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await foreach (var item in _dataSource.GetItemsAsync(cancellationToken))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            yield return ProcessItem(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9301-inefficient-exception-handling">NP9301: Inefficient Exception Handling<a href="#np9301-inefficient-exception-handling" class="hash-link" aria-label="Direct link to NP9301: Inefficient Exception Handling" title="Direct link to NP9301: Inefficient Exception Handling" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>InefficientExceptionHandlingCodeFixProvider</code></p>
<p>This code fix converts inefficient exception handling patterns to specific exception handling and alternative patterns.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-13">Before Fix<a href="#before-fix-13" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Catching Exception instead of specific exceptions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessAsync(Input input, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await ProcessItemAsync(input, cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    catch (Exception ex) // NP9301: Too broad exception handling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _logger.LogError(ex, &quot;Processing failed&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-13">After Fix<a href="#after-fix-13" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Catch specific exceptions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessAsync(Input input, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await ProcessItemAsync(input, cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    catch (InvalidOperationException ex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _logger.LogError(ex, &quot;Invalid operation during processing&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    catch (TimeoutException ex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _logger.LogError(ex, &quot;Processing timeout&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new ProcessingTimeoutException(&quot;Item processing timed out&quot;, ex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9302-sinknode-input-not-consumed">NP9302: SinkNode Input Not Consumed<a href="#np9302-sinknode-input-not-consumed" class="hash-link" aria-label="Direct link to NP9302: SinkNode Input Not Consumed" title="Direct link to NP9302: SinkNode Input Not Consumed" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>SinkNodeInputConsumptionCodeFixProvider</code></p>
<p>This code fix adds proper input consumption patterns to SinkNode implementations.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-14">Before Fix<a href="#before-fix-14" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Not consuming input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BadSinkNode : ISinkNode&lt;Input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task ExecuteAsync(IDataPipe&lt;Input&gt; input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // NP9302: Input pipe not consumed - items are dropped</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await Task.Delay(TimeSpan.FromSeconds(1), cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-14">After Fix<a href="#after-fix-14" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Consume all input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GoodSinkNode : ISinkNode&lt;Input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task ExecuteAsync(IDataPipe&lt;Input&gt; input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await foreach (var item in input.ConsumeAsync(cancellationToken))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            await ProcessItemAsync(item, cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9303-unsafe-pipelinecontext-access">NP9303: Unsafe PipelineContext Access<a href="#np9303-unsafe-pipelinecontext-access" class="hash-link" aria-label="Direct link to NP9303: Unsafe PipelineContext Access" title="Direct link to NP9303: Unsafe PipelineContext Access" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>PipelineContextAccessCodeFixProvider</code></p>
<p>This code fix adds null-safe patterns and proper error handling for PipelineContext access.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-15">Before Fix<a href="#before-fix-15" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Unsafe context access</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BadTransform : ITransformNode&lt;Input, Output&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task&lt;Output&gt; ExecuteAsync(Input input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // NP9303: Potential null reference exception</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var nodeId = context.NodeId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var metadata = context.Metadata[&quot;key&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Output(input, nodeId, metadata);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-15">After Fix<a href="#after-fix-15" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Safe context access</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GoodTransform : ITransformNode&lt;Input, Output&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task&lt;Output&gt; ExecuteAsync(Input input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var nodeId = context?.NodeId ?? &quot;unknown&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var metadata = context?.Metadata?.ContainsKey(&quot;key&quot;) == true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ? context.Metadata[&quot;key&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            : null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Output(input, nodeId, metadata);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9401-direct-dependency-instantiation">NP9401: Direct Dependency Instantiation<a href="#np9401-direct-dependency-instantiation" class="hash-link" aria-label="Direct link to NP9401: Direct Dependency Instantiation" title="Direct link to NP9401: Direct Dependency Instantiation" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>DependencyInjectionCodeFixProvider</code></p>
<p>This code fix converts direct dependency instantiation to proper constructor injection patterns.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-16">Before Fix<a href="#before-fix-16" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Direct dependency instantiation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BadTransform : ITransformNode&lt;Input, Output&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task&lt;Output&gt; ExecuteAsync(Input input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // NP9401: Direct instantiation creates tight coupling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var processor = new DataProcessor();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var result = await processor.ProcessAsync(input);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Output(result);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-16">After Fix<a href="#after-fix-16" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Constructor injection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GoodTransform : ITransformNode&lt;Input, Output&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly IDataProcessor _processor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public GoodTransform(IDataProcessor processor)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _processor = processor ?? throw new ArgumentNullException(nameof(processor));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task&lt;Output&gt; ExecuteAsync(Input input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var result = await _processor.ProcessAsync(input);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Output(result);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9001-incomplete-resilience-configuration">NP9001: Incomplete Resilience Configuration<a href="#np9001-incomplete-resilience-configuration" class="hash-link" aria-label="Direct link to NP9001: Incomplete Resilience Configuration" title="Direct link to NP9001: Incomplete Resilience Configuration" translate="no">​</a></h4>
<p><strong>Fix Provider:</strong> <code>ResilientExecutionConfigurationCodeFixProvider</code></p>
<p>This code fix adds missing resilience configuration prerequisites to error handlers.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-fix-17">Before Fix<a href="#before-fix-17" class="hash-link" aria-label="Direct link to Before Fix" title="Direct link to Before Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Incomplete resilience configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyErrorHandler : IPipelineErrorHandler</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public async Task&lt;PipelineErrorDecision&gt; HandleNodeFailureAsync(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        string nodeId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Exception error,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PipelineContext context,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return error switch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            TimeoutException =&gt; PipelineErrorDecision.RestartNode,  // Intent is clear</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _ =&gt; PipelineErrorDecision.FailPipeline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-fix-17">After Fix<a href="#after-fix-17" class="hash-link" aria-label="Direct link to After Fix" title="Direct link to After Fix" translate="no">​</a></h5>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Complete resilience configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ResilientExecution(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxRetryCount = 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BaseDelay = TimeSpan.FromSeconds(1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxDelay = TimeSpan.FromMinutes(1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxMaterializedItems = 1000)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyErrorHandler : IPipelineErrorHandler</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public async Task&lt;PipelineErrorDecision&gt; HandleNodeFailureAsync(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        string nodeId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Exception error,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PipelineContext context,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return error switch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            TimeoutException =&gt; PipelineErrorDecision.RestartNode,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _ =&gt; PipelineErrorDecision.FailPipeline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-code-fixes">Using Code Fixes<a href="#using-code-fixes" class="hash-link" aria-label="Direct link to Using Code Fixes" title="Direct link to Using Code Fixes" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="in-visual-studio">In Visual Studio<a href="#in-visual-studio" class="hash-link" aria-label="Direct link to In Visual Studio" title="Direct link to In Visual Studio" translate="no">​</a></h4>
<ol>
<li class=""><strong>Analyzer Warning Appears</strong>: A wavy underline appears under the problematic code</li>
<li class=""><strong>Light Bulb Icon</strong>: Click the light bulb or press <code>Ctrl+.</code> (period)</li>
<li class=""><strong>Select Fix</strong>: Choose from the available code fix options</li>
<li class=""><strong>Apply Fix</strong>: The fix is automatically applied to your code</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="in-vs-code">In VS Code<a href="#in-vs-code" class="hash-link" aria-label="Direct link to In VS Code" title="Direct link to In VS Code" translate="no">​</a></h4>
<ol>
<li class=""><strong>Analyzer Warning</strong>: A red or yellow underline appears</li>
<li class=""><strong>Quick Fix</strong>: Click the light bulb icon or press <code>Ctrl+.</code> (period)</li>
<li class=""><strong>Choose Fix</strong>: Select the appropriate fix from the dropdown</li>
<li class=""><strong>Preview Changes</strong>: Review the proposed changes before applying</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="in-rider">In Rider<a href="#in-rider" class="hash-link" aria-label="Direct link to In Rider" title="Direct link to In Rider" translate="no">​</a></h4>
<ol>
<li class=""><strong>Warning Highlight</strong>: Code is highlighted with a warning indicator</li>
<li class=""><strong>Alt+Enter</strong>: Press <code>Alt+Enter</code> to open quick fixes</li>
<li class=""><strong>Select Fix</strong>: Choose the desired code fix from the list</li>
<li class=""><strong>Apply</strong>: The fix is applied automatically</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="code-fix-best-practices">Code Fix Best Practices<a href="#code-fix-best-practices" class="hash-link" aria-label="Direct link to Code Fix Best Practices" title="Direct link to Code Fix Best Practices" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="review-before-applying">Review Before Applying<a href="#review-before-applying" class="hash-link" aria-label="Direct link to Review Before Applying" title="Direct link to Review Before Applying" translate="no">​</a></h4>
<p>While code fixes are helpful, always review the generated code:</p>
<ol>
<li class=""><strong>Understand the Change</strong>: Know what the fix is doing</li>
<li class=""><strong>Validate the Logic</strong>: Ensure it matches your requirements</li>
<li class=""><strong>Test Thoroughly</strong>: Verify the fix works in your scenario</li>
<li class=""><strong>Consider Alternatives</strong>: Sometimes a different approach is better</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="customizing-fixes">Customizing Fixes<a href="#customizing-fixes" class="hash-link" aria-label="Direct link to Customizing Fixes" title="Direct link to Customizing Fixes" translate="no">​</a></h4>
<p>Code fixes provide sensible defaults, but you may need to customize:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Code fix provides this:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maxMaterializedItems: 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// You might customize to:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maxMaterializedItems: GetOptimalBatchSize(); // Your custom logic</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="combining-fixes">Combining Fixes<a href="#combining-fixes" class="hash-link" aria-label="Direct link to Combining Fixes" title="Direct link to Combining Fixes" translate="no">​</a></h4>
<p>Some issues require multiple fixes:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Original problematic code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var retryOptions = new PipelineRetryOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxRetryCount: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseDelay: TimeSpan.FromSeconds(1));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Apply NP9501 fix first</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var retryOptions = new PipelineRetryOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxRetryCount: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseDelay: TimeSpan.FromSeconds(1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxMaterializedItems: 1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Then apply NP9504 fix if needed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var retryOptions = new PipelineRetryOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxRetryCount: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseDelay: TimeSpan.FromSeconds(1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxDelay: TimeSpan.FromMinutes(5), // Added by NP9504 fix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxMaterializedItems: 1000);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="limitations">Limitations<a href="#limitations" class="hash-link" aria-label="Direct link to Limitations" title="Direct link to Limitations" translate="no">​</a></h3>
<p>Code fix providers have some limitations:</p>
<ol>
<li class=""><strong>Context-Dependent</strong>: Fixes are based on static analysis, not runtime behavior</li>
<li class=""><strong>Conservative Values</strong>: Suggested values are conservative for safety</li>
<li class=""><strong>Simple Scenarios</strong>: Complex refactoring scenarios may need manual intervention</li>
<li class=""><strong>Business Logic</strong>: Fixes can&#x27;t understand your specific business requirements</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="extending-code-fixes">Extending Code Fixes<a href="#extending-code-fixes" class="hash-link" aria-label="Direct link to Extending Code Fixes" title="Direct link to Extending Code Fixes" translate="no">​</a></h3>
<p>You can extend code fix behavior through configuration:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># .editorconfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Customize default values for code fixes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_diagnostic.NP9501.code_fix.default_max_materialized = 500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_diagnostic.NP9502.code_fix.cpu_bound_parallelism = processor_count</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_diagnostic.NP9503.code_fix.timeout_per_item = 10ms</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting-code-fixes">Troubleshooting Code Fixes<a href="#troubleshooting-code-fixes" class="hash-link" aria-label="Direct link to Troubleshooting Code Fixes" title="Direct link to Troubleshooting Code Fixes" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="fix-not-available">Fix Not Available<a href="#fix-not-available" class="hash-link" aria-label="Direct link to Fix Not Available" title="Direct link to Fix Not Available" translate="no">​</a></h4>
<p>If a code fix doesn&#x27;t appear:</p>
<ol>
<li class=""><strong>Check Analyzer Version</strong>: Ensure you have the latest analyzer package</li>
<li class=""><strong>Verify Context</strong>: Some fixes only apply in specific contexts</li>
<li class=""><strong>Check Syntax</strong>: The code must match the expected pattern exactly</li>
<li class=""><strong>Restart IDE</strong>: Sometimes a restart is needed after package updates</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="fix-produces-errors">Fix Produces Errors<a href="#fix-produces-errors" class="hash-link" aria-label="Direct link to Fix Produces Errors" title="Direct link to Fix Produces Errors" translate="no">​</a></h4>
<p>If a code fix introduces errors:</p>
<ol>
<li class=""><strong>Report the Issue</strong>: File a bug report with example code</li>
<li class=""><strong>Use Manual Fix</strong>: Apply the suggested pattern manually</li>
<li class=""><strong>Check Dependencies</strong>: Ensure all required packages are installed</li>
<li class=""><strong>Verify Compatibility</strong>: Check for version conflicts</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="contributing">Contributing<a href="#contributing" class="hash-link" aria-label="Direct link to Contributing" title="Direct link to Contributing" translate="no">​</a></h3>
<p>Code fix providers are open source and contributions are welcome:</p>
<ol>
<li class=""><strong>Fork the Repository</strong>: Get the source code from GitHub</li>
<li class=""><strong>Identify Improvement</strong>: Find a scenario that needs better fixes</li>
<li class=""><strong>Implement Fix</strong>: Add or improve code fix logic</li>
<li class=""><strong>Add Tests</strong>: Ensure comprehensive test coverage</li>
<li class=""><strong>Submit Pull Request</strong>: Contribute back to the community</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration" translate="no">​</a></h2>
<p>Enable or disable code fixes in your <code>.editorconfig</code>:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Enable all code fixes (default)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Disable specific code fix providers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9501.enable = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9502.enable = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Performance-related code fixes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9101.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9102.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9103.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9104.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9201.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9202.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9203.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9204.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9205.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Reliability and data processing code fixes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9301.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9302.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9303.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Best practice and configuration code fixes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9401.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9001.enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Customize code fix behavior</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9501.default_value = 500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9502.strategy = conservative</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9101.prefer_async_overloads = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9201.use_imperative_alternatives = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9202.use_string_builder_threshold = 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet_code_fix.NP9203.generate_records = true</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="see-also">See Also<a href="#see-also" class="hash-link" aria-label="Direct link to See Also" title="Direct link to See Also" translate="no">​</a></h2>
<ul>
<li class=""><a class="" href="/docs/analyzers/configuration">Configuration Analyzers</a> - Understanding the issues code fixes address</li>
<li class=""><a class="" href="/docs/analyzers/performance">Performance Analyzers</a> - Performance-related code fixes</li>
<li class=""><a class="" href="/docs/analyzers/best-practices">Best Practice Analyzers</a> - Framework convention fixes</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/analyzers/configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuration Analyzers</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/analyzers/code-mapping"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">NPipeline Analyzer Code Mapping Document</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#code-fix-providers" class="table-of-contents__link toc-highlight">Code Fix Providers</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#available-code-fixes" class="table-of-contents__link toc-highlight">Available Code Fixes</a></li><li><a href="#using-code-fixes" class="table-of-contents__link toc-highlight">Using Code Fixes</a></li><li><a href="#code-fix-best-practices" class="table-of-contents__link toc-highlight">Code Fix Best Practices</a></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li><li><a href="#extending-code-fixes" class="table-of-contents__link toc-highlight">Extending Code Fixes</a></li><li><a href="#troubleshooting-code-fixes" class="table-of-contents__link toc-highlight">Troubleshooting Code Fixes</a></li><li><a href="#contributing" class="table-of-contents__link toc-highlight">Contributing</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li><li><a href="#see-also" class="table-of-contents__link toc-highlight">See Also</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/why-npipeline">Why NPipeline?</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/quick-start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/core-concepts">Core Concepts</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/npipeline/npipeline" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">&nbsp;</div></div></div></footer></div>
</body>
</html>