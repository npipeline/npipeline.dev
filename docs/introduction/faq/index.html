<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-introduction/faq" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Frequently Asked Questions | NPipeline</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="robots" content="noindex, nofollow"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://npipeline.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://npipeline.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://npipeline.dev/docs/introduction/faq"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Frequently Asked Questions | NPipeline"><meta data-rh="true" name="description" content="Answers to common questions about NPipeline."><meta data-rh="true" property="og:description" content="Answers to common questions about NPipeline."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://npipeline.dev/docs/introduction/faq"><link data-rh="true" rel="alternate" href="https://npipeline.dev/docs/introduction/faq" hreflang="en"><link data-rh="true" rel="alternate" href="https://npipeline.dev/docs/introduction/faq" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Introduction","item":"https://npipeline.dev/docs/introduction"},{"@type":"ListItem","position":2,"name":"Frequently Asked Questions","item":"https://npipeline.dev/docs/introduction/faq"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="NPipeline RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="NPipeline Atom Feed"><link rel="stylesheet" href="/assets/css/styles.7507e95c.css">
<script src="/assets/js/runtime~main.ecfa39af.js" defer="defer"></script>
<script src="/assets/js/main.0f79612e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="NPipeline logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="NPipeline logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NPipeline</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/"><span title="Welcome to NPipeline" class="linkLabel_WmDU">Welcome to NPipeline</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/introduction"><span title="Introduction" class="categoryLinkLabel_W154">Introduction</span></a><button aria-label="Collapse sidebar category &#x27;Introduction&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/why-npipeline"><span title="Why NPipeline?" class="linkLabel_WmDU">Why NPipeline?</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/introduction/faq"><span title="Frequently Asked Questions" class="linkLabel_WmDU">Frequently Asked Questions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/troubleshooting"><span title="Troubleshooting Guide" class="linkLabel_WmDU">Troubleshooting Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/api-reference"><span title="API Quick Reference" class="linkLabel_WmDU">API Quick Reference</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/learning-paths"><span title="Learning Paths" class="linkLabel_WmDU">Learning Paths</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/getting-started"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/core-concepts"><span title="Core Concepts" class="categoryLinkLabel_W154">Core Concepts</span></a><button aria-label="Expand sidebar category &#x27;Core Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/architecture/"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a><button aria-label="Collapse sidebar category &#x27;Architecture&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/core-concepts"><span title="Core Concepts" class="linkLabel_WmDU">Core Concepts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/component-architecture"><span title="Component Architecture" class="linkLabel_WmDU">Component Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/execution-flow"><span title="Execution Flow" class="linkLabel_WmDU">Execution Flow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/data-flow"><span title="Data Flow Details" class="linkLabel_WmDU">Data Flow Details</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/dependency-injection"><span title="Dependency Injection Integration" class="linkLabel_WmDU">Dependency Injection Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/error-handling-architecture"><span title="Error Handling Architecture" class="linkLabel_WmDU">Error Handling Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/cancellation-model"><span title="Cancellation Model" class="linkLabel_WmDU">Cancellation Model</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/performance-characteristics"><span title="Performance Characteristics" class="linkLabel_WmDU">Performance Characteristics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/extension-points"><span title="Extension Points" class="linkLabel_WmDU">Extension Points</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/design-principles"><span title="Design Principles" class="linkLabel_WmDU">Design Principles</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/optimization-principles"><span title="Optimization Principles - How NPipeline Achieves High Performance" class="linkLabel_WmDU">Optimization Principles - How NPipeline Achieves High Performance</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/extensions"><span title="Extensions" class="categoryLinkLabel_W154">Extensions</span></a><button aria-label="Expand sidebar category &#x27;Extensions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/connectors"><span title="Connectors" class="categoryLinkLabel_W154">Connectors</span></a><button aria-label="Expand sidebar category &#x27;Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/advanced-topics"><span title="Advanced Topics" class="categoryLinkLabel_W154">Advanced Topics</span></a><button aria-label="Expand sidebar category &#x27;Advanced Topics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/analyzers/"><span title="Build-Time Analyzers" class="categoryLinkLabel_W154">Build-Time Analyzers</span></a><button aria-label="Expand sidebar category &#x27;Build-Time Analyzers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/samples-guide"><span title="Sample Applications" class="linkLabel_WmDU">Sample Applications</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/reference"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a><button aria-label="Expand sidebar category &#x27;Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/introduction"><span>Introduction</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Frequently Asked Questions</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Frequently Asked Questions</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="general-questions">General Questions<a href="#general-questions" class="hash-link" aria-label="Direct link to General Questions" title="Direct link to General Questions" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-npipeline">What is NPipeline?<a href="#what-is-npipeline" class="hash-link" aria-label="Direct link to What is NPipeline?" title="Direct link to What is NPipeline?" translate="no">​</a></h3>
<p>NPipeline is a high-performance, graph-based streaming data pipeline library for .NET. It allows you to build complex data processing workflows by defining interconnected nodes (sources, transforms, and sinks) that process data efficiently without loading entire datasets into memory.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-should-i-use-npipeline">When should I use NPipeline?<a href="#when-should-i-use-npipeline" class="hash-link" aria-label="Direct link to When should I use NPipeline?" title="Direct link to When should I use NPipeline?" translate="no">​</a></h3>
<p>NPipeline is ideal for:</p>
<ul>
<li class="">ETL (Extract, Transform, Load) pipelines</li>
<li class="">Real-time data processing</li>
<li class="">Batch file processing (CSV, JSON, XML)</li>
<li class="">Data validation and cleansing</li>
<li class="">API data integration</li>
<li class="">Any scenario requiring efficient data flow processing</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-makes-npipeline-different-from-other-pipeline-libraries">What makes NPipeline different from other pipeline libraries?<a href="#what-makes-npipeline-different-from-other-pipeline-libraries" class="hash-link" aria-label="Direct link to What makes NPipeline different from other pipeline libraries?" title="Direct link to What makes NPipeline different from other pipeline libraries?" translate="no">​</a></h3>
<p>NPipeline offers:</p>
<ul>
<li class=""><strong>Graph-based architecture</strong> for clear data flow visualization</li>
<li class=""><strong>High performance</strong> with minimal memory allocations</li>
<li class=""><strong>Type safety</strong> with compile-time validation</li>
<li class=""><strong>Flexibility</strong> to mix sequential and parallel execution</li>
<li class=""><strong>Production-ready</strong> error handling and resilience</li>
<li class=""><strong>Testability</strong> with built-in testing utilities</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="does-npipeline-support-streaming-data">Does NPipeline support streaming data?<a href="#does-npipeline-support-streaming-data" class="hash-link" aria-label="Direct link to Does NPipeline support streaming data?" title="Direct link to Does NPipeline support streaming data?" translate="no">​</a></h3>
<p>Yes! NPipeline is designed around streaming data using <code>IAsyncEnumerable&lt;T&gt;</code>. Data flows through the pipeline without loading everything into memory at once.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="installation--setup">Installation &amp; Setup<a href="#installation--setup" class="hash-link" aria-label="Direct link to Installation &amp; Setup" title="Direct link to Installation &amp; Setup" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="which-version-of-net-is-supported">Which version of .NET is supported?<a href="#which-version-of-net-is-supported" class="hash-link" aria-label="Direct link to Which version of .NET is supported?" title="Direct link to Which version of .NET is supported?" translate="no">​</a></h3>
<p>NPipeline requires <strong>.NET 8.0, 9.0, or 10.0</strong>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="do-i-need-to-install-all-the-extensions">Do I need to install all the extensions?<a href="#do-i-need-to-install-all-the-extensions" class="hash-link" aria-label="Direct link to Do I need to install all the extensions?" title="Direct link to Do I need to install all the extensions?" translate="no">​</a></h3>
<p>No. The core <code>NPipeline</code> package is all you need. Extensions are optional:</p>
<ul>
<li class=""><strong>DependencyInjection</strong> - For managing dependencies</li>
<li class=""><strong>Parallelism</strong> - For parallel execution</li>
<li class=""><strong>Testing</strong> - For unit testing pipelines</li>
<li class=""><strong>Connectors</strong> - For pre-built source/sink nodes</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="can-i-use-npipeline-with-aspnet-core">Can I use NPipeline with ASP.NET Core?<a href="#can-i-use-npipeline-with-aspnet-core" class="hash-link" aria-label="Direct link to Can I use NPipeline with ASP.NET Core?" title="Direct link to Can I use NPipeline with ASP.NET Core?" translate="no">​</a></h3>
<p>Yes! NPipeline integrates well with ASP.NET Core via dependency injection. See <a class="" href="/docs/extensions/dependency-injection">Dependency Injection</a> for details.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-do-i-set-up-logging">How do I set up logging?<a href="#how-do-i-set-up-logging" class="hash-link" aria-label="Direct link to How do I set up logging?" title="Direct link to How do I set up logging?" translate="no">​</a></h3>
<p>Integrate with Microsoft.Extensions.Logging:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">services.AddLogging(builder =&gt; builder.AddConsole());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services.AddNPipeline(Assembly.GetExecutingAssembly());</span><br></span></code></pre></div></div>
<p>Then inject <code>ILogger&lt;T&gt;</code> into your nodes.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="architecture--concepts">Architecture &amp; Concepts<a href="#architecture--concepts" class="hash-link" aria-label="Direct link to Architecture &amp; Concepts" title="Direct link to Architecture &amp; Concepts" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-the-difference-between-ipipeline-and-ipipelinedefinition">What&#x27;s the difference between IPipeline and IPipelineDefinition?<a href="#whats-the-difference-between-ipipeline-and-ipipelinedefinition" class="hash-link" aria-label="Direct link to What&#x27;s the difference between IPipeline and IPipelineDefinition?" title="Direct link to What&#x27;s the difference between IPipeline and IPipelineDefinition?" translate="no">​</a></h3>
<ul>
<li class=""><strong>IPipelineDefinition</strong> - A blueprint that defines your pipeline structure</li>
<li class=""><strong>IPipeline</strong> - The compiled, runnable instance created from a definition</li>
<li class="">You implement <code>IPipelineDefinition</code>, then <code>PipelineRunner</code> executes it</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="can-a-pipeline-have-multiple-sources">Can a pipeline have multiple sources?<a href="#can-a-pipeline-have-multiple-sources" class="hash-link" aria-label="Direct link to Can a pipeline have multiple sources?" title="Direct link to Can a pipeline have multiple sources?" translate="no">​</a></h3>
<p>Yes. Multiple source nodes can connect to the same transform or separate transforms. See <a class="" href="/docs/core-concepts/common-patterns">Common Patterns</a> for examples.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-the-purpose-of-pipelinecontext">What&#x27;s the purpose of PipelineContext?<a href="#whats-the-purpose-of-pipelinecontext" class="hash-link" aria-label="Direct link to What&#x27;s the purpose of PipelineContext?" title="Direct link to What&#x27;s the purpose of PipelineContext?" translate="no">​</a></h3>
<p><code>PipelineContext</code> carries runtime information through the pipeline:</p>
<ul>
<li class="">Cancellation tokens</li>
<li class="">Shared state between nodes</li>
<li class="">Logging and observability services</li>
<li class="">Custom application data</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-does-data-flow-between-nodes">How does data flow between nodes?<a href="#how-does-data-flow-between-nodes" class="hash-link" aria-label="Direct link to How does data flow between nodes?" title="Direct link to How does data flow between nodes?" translate="no">​</a></h3>
<p>Data flows through <code>IDataPipe&lt;T&gt;</code> objects:</p>
<ol>
<li class="">Source nodes produce an <code>IDataPipe&lt;T&gt;</code></li>
<li class="">Transforms consume it and produce a new <code>IDataPipe&lt;T&gt;</code></li>
<li class="">Sinks consume the final <code>IDataPipe&lt;T&gt;</code></li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-concepts">Core Concepts<a href="#core-concepts" class="hash-link" aria-label="Direct link to Core Concepts" title="Direct link to Core Concepts" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-the-difference-between-batching-and-aggregation">What&#x27;s the difference between batching and aggregation?<a href="#whats-the-difference-between-batching-and-aggregation" class="hash-link" aria-label="Direct link to What&#x27;s the difference between batching and aggregation?" title="Direct link to What&#x27;s the difference between batching and aggregation?" translate="no">​</a></h3>
<p><strong>Batching</strong> groups items for operational efficiency - to optimize interactions with external systems like databases or APIs. It looks at the wall clock and says &quot;every N items or every X seconds, send what we have.&quot;</p>
<p><strong>Aggregation</strong> groups items for data correctness - to handle out-of-order or late-arriving events in event-time windows. It uses event timestamps, not arrival times, and can wait for latecomers within a configured grace period.</p>
<p><strong>Use batching when:</strong></p>
<ul>
<li class="">External systems work more efficiently with bulk operations</li>
<li class="">You need to reduce API call overhead</li>
<li class="">Order/timing of items doesn&#x27;t affect correctness</li>
</ul>
<p><strong>Use aggregation when:</strong></p>
<ul>
<li class="">Events can arrive out of order or late</li>
<li class="">You need time-windowed summaries or counts</li>
<li class="">Results must be correct despite late-arriving data</li>
</ul>
<p>For a detailed comparison and decision framework, see <a class="" href="/docs/core-concepts/grouping-strategies">Grouping Strategies: Batching vs Aggregation</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-should-i-use-valuetask-vs-task-in-transforms">When should I use ValueTask vs Task in transforms?<a href="#when-should-i-use-valuetask-vs-task-in-transforms" class="hash-link" aria-label="Direct link to When should I use ValueTask vs Task in transforms?" title="Direct link to When should I use ValueTask vs Task in transforms?" translate="no">​</a></h3>
<p>Use <code>ValueTask&lt;T&gt;</code> when your transform can complete synchronously in common cases (cache hits, simple calculations). Use <code>Task&lt;T&gt;</code> when your transform is almost always asynchronous.</p>
<p><strong>ValueTask benefits:</strong></p>
<ul>
<li class="">Zero heap allocations for synchronous completions</li>
<li class="">Eliminates up to 90% of GC pressure in high-cache-hit scenarios</li>
<li class="">Seamlessly transitions to async when needed</li>
</ul>
<p><strong>Example pattern:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public override ValueTask&lt;UserData&gt; ExecuteAsync(string userId, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Fast path: cache hit - no Task allocation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (_cache.TryGetValue(userId, out var cached))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new ValueTask&lt;UserData&gt;(cached);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Slow path: async database call</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new ValueTask&lt;UserData&gt;(FetchAndCacheAsync(userId, cancellationToken));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>For complete implementation guidelines and performance impact analysis, see <a class="" href="/docs/advanced-topics/synchronous-fast-paths">Synchronous Fast Paths and ValueTask Optimization</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="do-i-need-resilientexecutionstrategy-for-retries">Do I need ResilientExecutionStrategy for retries?<a href="#do-i-need-resilientexecutionstrategy-for-retries" class="hash-link" aria-label="Direct link to Do I need ResilientExecutionStrategy for retries?" title="Direct link to Do I need ResilientExecutionStrategy for retries?" translate="no">​</a></h3>
<p>No, <code>ResilientExecutionStrategy</code> is specifically for <strong>node-level restarts</strong>, not basic item retries. There are two different retry mechanisms:</p>
<p><strong>Item-level retries</strong> (no ResilientExecutionStrategy needed):</p>
<ul>
<li class="">Retry individual failed items</li>
<li class="">Configured via <code>PipelineRetryOptions.MaxItemRetries</code></li>
<li class="">Handled in node error handlers with <code>NodeErrorDecision.Retry</code></li>
</ul>
<p><strong>Node-level restarts</strong> (requires ResilientExecutionStrategy):</p>
<ul>
<li class="">Restart entire node streams on failure</li>
<li class="">Configured via <code>PipelineRetryOptions.MaxNodeRestartAttempts</code></li>
<li class="">Requires three mandatory components:<!-- -->
<ol>
<li class="">Node wrapped with <code>ResilientExecutionStrategy</code></li>
<li class=""><code>MaxNodeRestartAttempts &gt; 0</code> in retry options</li>
<li class=""><code>MaxMaterializedItems</code> set to a positive number (not null)</li>
</ol>
</li>
</ul>
<p>For detailed configuration requirements, see <a class="" href="/docs/core-concepts/resilience/node-restart-quickstart">Node Restart - Quick Start Checklist</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-do-i-know-if-my-pipeline-is-optimized">How do I know if my pipeline is optimized?<a href="#how-do-i-know-if-my-pipeline-is-optimized" class="hash-link" aria-label="Direct link to How do I know if my pipeline is optimized?" title="Direct link to How do I know if my pipeline is optimized?" translate="no">​</a></h3>
<p>Use these approaches to verify pipeline optimization:</p>
<ol>
<li class="">
<p><strong>Enable build-time analyzers</strong> to catch performance anti-patterns:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// In your .csproj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;PackageReference Include=&quot;NPipeline.Analyzers&quot; Version=&quot;*&quot; /&gt;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Check for common issues</strong>:</p>
<ul>
<li class="">Blocking operations in async methods (NP9102)</li>
<li class="">Missing ValueTask optimizations (NP9209)</li>
<li class="">Non-streaming patterns in source nodes (NP9211)</li>
<li class="">Swallowed cancellation exceptions (NP9103)</li>
</ul>
</li>
<li class="">
<p><strong>Benchmark critical paths</strong> with BenchmarkDotNet:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[MemoryDiagnoser]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyTransformBenchmarks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Benchmark]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public async Task Transform() =&gt; await _transform.ProcessAsync(_data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Monitor runtime metrics</strong>:</p>
<ul>
<li class="">GC pressure and allocation rates</li>
<li class="">Throughput vs. latency trade-offs</li>
<li class="">Memory usage patterns</li>
</ul>
</li>
</ol>
<p>For comprehensive performance best practices, see <a class="" href="/docs/advanced-topics/performance-hygiene">Performance Hygiene</a> and <a class="" href="/docs/analyzers/performance">Performance Analyzers</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-the-memory-overhead-of-materialization">What&#x27;s the memory overhead of materialization?<a href="#whats-the-memory-overhead-of-materialization" class="hash-link" aria-label="Direct link to What&#x27;s the memory overhead of materialization?" title="Direct link to What&#x27;s the memory overhead of materialization?" translate="no">​</a></h3>
<p>Materialization buffers items in memory to enable replay functionality during node restarts. The memory overhead depends on:</p>
<ol>
<li class=""><strong>Item size</strong>: Larger items consume more memory per buffered item</li>
<li class=""><strong>Buffer limit</strong>: <code>MaxMaterializedItems</code> determines maximum items buffered</li>
<li class=""><strong>Buffer duration</strong>: How many seconds of data you need to replay</li>
</ol>
<p><strong>Example calculations:</strong></p>
<ul>
<li class="">Small objects (100 bytes): 10,000 items ≈ 1MB</li>
<li class="">Medium objects (1KB): 1,000 items ≈ 1MB</li>
<li class="">Large objects (10KB): 100 items ≈ 1MB</li>
</ul>
<p><strong>Configuration guidance:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var options = new PipelineRetryOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxItemRetries: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxNodeRestartAttempts: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxMaterializedItems: 1000  // Adjust based on item size and memory budget</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre></div></div>
<p>For detailed memory calculations and configuration examples, see <a class="" href="/docs/core-concepts/resilience/materialization-and-buffering">Materialization and Buffering</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="my-node-restarts-arent-working">My node restarts aren&#x27;t working<a href="#my-node-restarts-arent-working" class="hash-link" aria-label="Direct link to My node restarts aren&#x27;t working" title="Direct link to My node restarts aren&#x27;t working" translate="no">​</a></h3>
<p>Node restarts require <strong>three mandatory components</strong>. If any are missing, restarts silently fail:</p>
<ol>
<li class="">
<p><strong>ResilientExecutionStrategy not applied</strong>:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// REQUIRED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var nodeHandle = builder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .AddTransform&lt;MyTransform, Input, Output&gt;(&quot;myNode&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .WithExecutionStrategy(builder, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new ResilientExecutionStrategy(new SequentialExecutionStrategy()));</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>MaxNodeRestartAttempts not configured</strong>:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// REQUIRED - must be &gt; 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var options = new PipelineRetryOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxItemRetries: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxNodeRestartAttempts: 2,  // ← Must be set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxMaterializedItems: 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>MaxMaterializedItems is null</strong> (most common issue):</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// REQUIRED - must be positive number, not null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var options = new PipelineRetryOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxItemRetries: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxNodeRestartAttempts: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxMaterializedItems: 1000  // ← CRITICAL: null disables restarts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre></div></div>
</li>
</ol>
<p><strong>Verification checklist:</strong></p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Node wrapped with ResilientExecutionStrategy</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->MaxNodeRestartAttempts &gt; 0</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->MaxMaterializedItems is set to positive number</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Error handler returns PipelineErrorDecision.RestartNode</li>
</ul>
<p>For the complete checklist and troubleshooting guide, see <a class="" href="/docs/core-concepts/resilience/node-restart-quickstart">Node Restart - Quick Start Checklist</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="my-parallel-pipeline-is-slower-than-sequential">My parallel pipeline is slower than sequential<a href="#my-parallel-pipeline-is-slower-than-sequential" class="hash-link" aria-label="Direct link to My parallel pipeline is slower than sequential" title="Direct link to My parallel pipeline is slower than sequential" translate="no">​</a></h3>
<p>Common parallelism anti-patterns that can make parallel pipelines slower:</p>
<ol>
<li class="">
<p><strong>Resource contention</strong>:</p>
<ul>
<li class="">Multiple threads competing for same database connection</li>
<li class="">Shared resources without proper synchronization</li>
<li class="">Too high degree of parallelism causing context switching overhead</li>
</ul>
</li>
<li class="">
<p><strong>I/O-bound work with excessive parallelism</strong>:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// WRONG: Too much parallelism for I/O work</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">new ParallelOptions { MaxDegreeOfParallelism = 100 }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// BETTER: Match to I/O capacity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">new ParallelOptions { MaxDegreeOfParallelism = 4 }</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Unnecessary ordering preservation</strong>:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// SLOWER: Preserves order (default)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">new ParallelOptions { PreserveOrdering = true }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// FASTER: When order doesn&#x27;t matter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">new ParallelOptions { PreserveOrdering = false }</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Improper queue configuration</strong>:</p>
<ul>
<li class="">Unbounded queues causing memory pressure</li>
<li class="">Too small queues causing blocking</li>
</ul>
</li>
</ol>
<p><strong>Optimization steps:</strong></p>
<ol>
<li class="">Start with <code>MaxDegreeOfParallelism = Environment.ProcessorCount</code></li>
<li class="">Set <code>PreserveOrdering = false</code> if order isn&#x27;t required</li>
<li class="">Configure appropriate queue limits with <code>MaxQueueLength</code></li>
<li class="">Profile to identify actual bottlenecks</li>
</ol>
<p>For detailed parallelism configuration and best practices, see <a class="" href="/docs/extensions/parallelism">Parallelism</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="error-handling">Error Handling<a href="#error-handling" class="hash-link" aria-label="Direct link to Error Handling" title="Direct link to Error Handling" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-happens-if-a-transform-throws-an-exception">What happens if a transform throws an exception?<a href="#what-happens-if-a-transform-throws-an-exception" class="hash-link" aria-label="Direct link to What happens if a transform throws an exception?" title="Direct link to What happens if a transform throws an exception?" translate="no">​</a></h3>
<p>By default, the exception propagates up and stops the pipeline. Handle errors explicitly:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return await ProcessAsync(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">catch (Exception ex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    logger.LogError(ex, &quot;Processing failed&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throw; // or handle gracefully</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-do-i-implement-retries">How do I implement retries?<a href="#how-do-i-implement-retries" class="hash-link" aria-label="Direct link to How do I implement retries?" title="Direct link to How do I implement retries?" translate="no">​</a></h3>
<p>NPipeline provides several built-in retry mechanisms:</p>
<p><strong>1. Item-level retries</strong> - Retry individual items that fail:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Configure max retries per item</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.WithRetryOptions(opt =&gt; opt.With(maxItemRetries: 3));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// In your error handler, return Retry for transient failures</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public Task&lt;NodeErrorDecision&gt; HandleAsync(...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (exception is TransientException)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Task.FromResult(NodeErrorDecision.Retry);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return Task.FromResult(NodeErrorDecision.Skip);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>2. Node-level restarts</strong> - Restart entire node streams on failure:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Enable resilience and configure restart limits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var myNode = builder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .AddTransform&lt;MyTransform, Input, Output&gt;(&quot;myTransform&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .WithResilience(builder)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .WithRetryOptions(builder, opt =&gt; opt.With(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        maxNodeRestartAttempts: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        maxMaterializedItems: 5000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// In your pipeline error handler, return RestartNode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public Task&lt;PipelineErrorDecision&gt; HandleNodeFailureAsync(...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (exception is TimeoutException)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Task.FromResult(PipelineErrorDecision.RestartNode);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return Task.FromResult(PipelineErrorDecision.FailPipeline);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>3. Circuit breaker</strong> - Prevent cascading failures:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Configure circuit breaker through PipelineRetryOptions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var retryOptions = new PipelineRetryOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxItemRetries: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxNodeRestartAttempts: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxSequentialNodeAttempts: 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CircuitBreakerOptions: new PipelineCircuitBreakerOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        failureThreshold: 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        openDuration: TimeSpan.FromMinutes(1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        samplingWindow: TimeSpan.FromMinutes(5),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        thresholdType: CircuitBreakerThresholdType.ConsecutiveFailures</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var context = PipelineContext.WithRetry(retryOptions);</span><br></span></code></pre></div></div>
<p>For advanced patterns beyond simple retry counts, integrate external libraries like <a href="https://github.com/App-vNext/Polly" target="_blank" rel="noopener noreferrer" class="">Polly</a>:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Exponential backoff with Polly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var policy = Policy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .Handle&lt;HttpRequestException&gt;()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .WaitAndRetryAsync(3, attempt =&gt; TimeSpan.FromSeconds(Math.Pow(2, attempt)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await policy.ExecuteAsync(async () =&gt; await CallServiceAsync());</span><br></span></code></pre></div></div>
<p>See <a class="" href="/docs/core-concepts/resilience/error-handling-guide#configuring-retries">Configuring Retries</a> for detailed examples and best practices.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="error-codes-reference">Error Codes Reference<a href="#error-codes-reference" class="hash-link" aria-label="Direct link to Error Codes Reference" title="Direct link to Error Codes Reference" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-do-the-error-codes-like-np0101-mean">What do the error codes like [NP0101] mean?<a href="#what-do-the-error-codes-like-np0101-mean" class="hash-link" aria-label="Direct link to What do the error codes like [NP0101] mean?" title="Direct link to What do the error codes like [NP0101] mean?" translate="no">​</a></h3>
<p>NPipeline uses standardized error codes (NP prefix) to help you quickly identify and resolve issues:</p>
<ul>
<li class=""><strong>NP01xx</strong> - Graph Validation Errors</li>
<li class=""><strong>NP02xx</strong> - Type Mismatch and Conversion Errors</li>
<li class=""><strong>NP03xx</strong> - Execution Errors</li>
<li class=""><strong>NP04xx</strong> - Configuration Errors</li>
<li class=""><strong>NP05xx</strong> - Resource and Capacity Errors</li>
</ul>
<p>See the <a class="" href="/docs/reference/error-codes">Error Codes Reference</a> for a complete list of all error codes, their causes, and solutions.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-do-i-handle-invalid-data">How do I handle invalid data?<a href="#how-do-i-handle-invalid-data" class="hash-link" aria-label="Direct link to How do I handle invalid data?" title="Direct link to How do I handle invalid data?" translate="no">​</a></h3>
<p>Route invalid data to a separate error stream or log it:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public override Task&lt;Order&gt; ExecuteAsync(Order item, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (item.Price &lt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        logger.LogWarning($&quot;Invalid price: {item.Price}&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new ValidationException(&quot;Price cannot be negative&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return Task.FromResult(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="testing">Testing<a href="#testing" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-do-i-test-a-pipeline">How do I test a pipeline?<a href="#how-do-i-test-a-pipeline" class="hash-link" aria-label="Direct link to How do I test a pipeline?" title="Direct link to How do I test a pipeline?" translate="no">​</a></h3>
<p>Use <code>InMemorySourceNode</code> and <code>InMemorySinkNode</code>:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var context = new PipelineContext();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context.Items[typeof(InMemorySourceNode&lt;int&gt;).FullName!] = new[] { 1, 2, 3 };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var runner = new PipelineRunner();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await runner.RunAsync&lt;TestPipeline&gt;(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Retrieve results</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var sink = context.Items[typeof(InMemorySinkNode&lt;int&gt;).FullName!] as InMemorySinkNode&lt;int&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var results = await sink!.Completion;</span><br></span></code></pre></div></div>
<p>See <a class="" href="/docs/extensions/testing">Testing Pipelines</a> for details.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="can-i-test-individual-nodes">Can I test individual nodes?<a href="#can-i-test-individual-nodes" class="hash-link" aria-label="Direct link to Can I test individual nodes?" title="Direct link to Can I test individual nodes?" translate="no">​</a></h3>
<p>Yes. Call <code>ExecuteAsync</code> directly with test data:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var transform = new MyTransform();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var context = new PipelineContext();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var result = await transform.ExecuteAsync(testData, context, CancellationToken.None);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Assert.Equal(expected, result);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-do-i-mock-external-dependencies">How do I mock external dependencies?<a href="#how-do-i-mock-external-dependencies" class="hash-link" aria-label="Direct link to How do I mock external dependencies?" title="Direct link to How do I mock external dependencies?" translate="no">​</a></h3>
<p>Use dependency injection with mock services:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var mockService = new Mock&lt;IMyService&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var node = new MyNode(mockService.Object);</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="integration">Integration<a href="#integration" class="hash-link" aria-label="Direct link to Integration" title="Direct link to Integration" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-do-i-use-npipeline-with-a-database">How do I use NPipeline with a database?<a href="#how-do-i-use-npipeline-with-a-database" class="hash-link" aria-label="Direct link to How do I use NPipeline with a database?" title="Direct link to How do I use NPipeline with a database?" translate="no">​</a></h3>
<p>Implement custom source and sink nodes:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class DatabaseSource : SourceNode&lt;Customer&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly string _connectionString;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override IDataPipe&lt;Customer&gt; ExecuteAsync(PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        static IAsyncEnumerable&lt;Customer&gt; ReadAsync(string connStr, CancellationToken ct)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return Read();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            async IAsyncEnumerable&lt;Customer&gt; Read()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                using var connection = new SqlConnection(connStr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                await connection.OpenAsync(ct);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Read and yield customers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new StreamingDataPipe&lt;Customer&gt;(ReadAsync(_connectionString, cancellationToken));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-do-i-use-npipeline-with-message-queues-like-rabbitmq">How do I use NPipeline with Message Queues (like RabbitMQ)?<a href="#how-do-i-use-npipeline-with-message-queues-like-rabbitmq" class="hash-link" aria-label="Direct link to How do I use NPipeline with Message Queues (like RabbitMQ)?" title="Direct link to How do I use NPipeline with Message Queues (like RabbitMQ)?" translate="no">​</a></h3>
<p>Implement a source node that reads from the queue:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class QueueSource : SourceNode&lt;Message&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly IQueueClient _client;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override IDataPipe&lt;Message&gt; ExecuteAsync(PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        static IAsyncEnumerable&lt;Message&gt; ReadAsync(IQueueClient client, CancellationToken ct)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return Read();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            async IAsyncEnumerable&lt;Message&gt; Read()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                while (!ct.IsCancellationRequested)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    var message = await client.ReceiveAsync(ct);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (message != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        yield return message;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new StreamingDataPipe&lt;Message&gt;(ReadAsync(_client, cancellationToken));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="can-i-use-npipeline-with-dependency-injection-containers">Can I use NPipeline with dependency injection containers?<a href="#can-i-use-npipeline-with-dependency-injection-containers" class="hash-link" aria-label="Direct link to Can I use NPipeline with dependency injection containers?" title="Direct link to Can I use NPipeline with dependency injection containers?" translate="no">​</a></h3>
<p>Yes, with the <code>NPipeline.Extensions.DependencyInjection</code> package:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">services.AddNPipeline(Assembly.GetExecutingAssembly());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Your nodes are automatically registered and resolved</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting-1">Troubleshooting<a href="#troubleshooting-1" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="my-pipeline-is-running-out-of-memory">My pipeline is running out of memory<a href="#my-pipeline-is-running-out-of-memory" class="hash-link" aria-label="Direct link to My pipeline is running out of memory" title="Direct link to My pipeline is running out of memory" translate="no">​</a></h3>
<p><strong>Cause:</strong> Likely loading all data at once instead of streaming.</p>
<p><strong>Solution:</strong> Use async enumerable:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// BAD - loads all data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var allData = database.GetAllRecords().ToList(); // ❌</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return Task.FromResult(new StreamingDataPipe&lt;T&gt;(allData.ToAsyncEnumerable()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// GOOD - streams data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">async IAsyncEnumerable&lt;T&gt; GetDataAsync()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach (var record in database.GetAllRecords()) // ✅ Lazy enumeration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        yield return record;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return Task.FromResult(new StreamingDataPipe&lt;T&gt;(GetDataAsync()));</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pipeline-is-slow">Pipeline is slow<a href="#pipeline-is-slow" class="hash-link" aria-label="Direct link to Pipeline is slow" title="Direct link to Pipeline is slow" translate="no">​</a></h3>
<p><strong>Solution:</strong> Profile to find the bottleneck:</p>
<ol>
<li class="">Check which transform is slow</li>
<li class="">Consider parallelism if CPU-bound</li>
<li class="">Consider batching if I/O-bound</li>
<li class="">Minimize allocations</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="nodes-arent-being-registered-with-di">Nodes aren&#x27;t being registered with DI<a href="#nodes-arent-being-registered-with-di" class="hash-link" aria-label="Direct link to Nodes aren&#x27;t being registered with DI" title="Direct link to Nodes aren&#x27;t being registered with DI" translate="no">​</a></h3>
<p><strong>Cause:</strong> Assembly not scanned.</p>
<p><strong>Solution:</strong> Pass assembly to <code>AddNPipeline</code>:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">services.AddNPipeline(Assembly.GetExecutingAssembly()); // ✅</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// NOT just: services.AddNPipeline(); ❌</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cancellationtoken-not-working">CancellationToken not working<a href="#cancellationtoken-not-working" class="hash-link" aria-label="Direct link to CancellationToken not working" title="Direct link to CancellationToken not working" translate="no">​</a></h3>
<p><strong>Cause:</strong> Not checking the token in nodes.</p>
<p><strong>Solution:</strong> Check and respect the token:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public override async Task ExecuteAsync(IDataPipe&lt;T&gt; input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await foreach (var item in input.WithCancellation(cancellationToken)) // ✅</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cancellationToken.ThrowIfCancellationRequested(); // ✅</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Process item</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="arrow_right-next-steps">➡️<!-- --> Next Steps<a href="#arrow_right-next-steps" class="hash-link" aria-label="Direct link to arrow_right-next-steps" title="Direct link to arrow_right-next-steps" translate="no">​</a></h2>
<ul>
<li class=""><strong><a class="" href="/docs/getting-started/installation">Getting Started</a></strong> - Installation and quick start</li>
<li class=""><strong><a class="" href="/docs/core-concepts/common-patterns">Common Patterns</a></strong> - See practical examples</li>
<li class=""><strong><a class="" href="/docs/core-concepts/best-practices">Best Practices</a></strong> - Design guidelines</li>
<li class=""><strong><a class="" href="/docs/introduction/troubleshooting">Troubleshooting</a></strong> - Common issues and solutions</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/introduction/why-npipeline"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Why NPipeline?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/introduction/troubleshooting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#general-questions" class="table-of-contents__link toc-highlight">General Questions</a><ul><li><a href="#what-is-npipeline" class="table-of-contents__link toc-highlight">What is NPipeline?</a></li><li><a href="#when-should-i-use-npipeline" class="table-of-contents__link toc-highlight">When should I use NPipeline?</a></li><li><a href="#what-makes-npipeline-different-from-other-pipeline-libraries" class="table-of-contents__link toc-highlight">What makes NPipeline different from other pipeline libraries?</a></li><li><a href="#does-npipeline-support-streaming-data" class="table-of-contents__link toc-highlight">Does NPipeline support streaming data?</a></li></ul></li><li><a href="#installation--setup" class="table-of-contents__link toc-highlight">Installation &amp; Setup</a><ul><li><a href="#which-version-of-net-is-supported" class="table-of-contents__link toc-highlight">Which version of .NET is supported?</a></li><li><a href="#do-i-need-to-install-all-the-extensions" class="table-of-contents__link toc-highlight">Do I need to install all the extensions?</a></li><li><a href="#can-i-use-npipeline-with-aspnet-core" class="table-of-contents__link toc-highlight">Can I use NPipeline with ASP.NET Core?</a></li><li><a href="#how-do-i-set-up-logging" class="table-of-contents__link toc-highlight">How do I set up logging?</a></li></ul></li><li><a href="#architecture--concepts" class="table-of-contents__link toc-highlight">Architecture &amp; Concepts</a><ul><li><a href="#whats-the-difference-between-ipipeline-and-ipipelinedefinition" class="table-of-contents__link toc-highlight">What&#39;s the difference between IPipeline and IPipelineDefinition?</a></li><li><a href="#can-a-pipeline-have-multiple-sources" class="table-of-contents__link toc-highlight">Can a pipeline have multiple sources?</a></li><li><a href="#whats-the-purpose-of-pipelinecontext" class="table-of-contents__link toc-highlight">What&#39;s the purpose of PipelineContext?</a></li><li><a href="#how-does-data-flow-between-nodes" class="table-of-contents__link toc-highlight">How does data flow between nodes?</a></li></ul></li><li><a href="#core-concepts" class="table-of-contents__link toc-highlight">Core Concepts</a><ul><li><a href="#whats-the-difference-between-batching-and-aggregation" class="table-of-contents__link toc-highlight">What&#39;s the difference between batching and aggregation?</a></li><li><a href="#when-should-i-use-valuetask-vs-task-in-transforms" class="table-of-contents__link toc-highlight">When should I use ValueTask vs Task in transforms?</a></li><li><a href="#do-i-need-resilientexecutionstrategy-for-retries" class="table-of-contents__link toc-highlight">Do I need ResilientExecutionStrategy for retries?</a></li></ul></li><li><a href="#performance" class="table-of-contents__link toc-highlight">Performance</a><ul><li><a href="#how-do-i-know-if-my-pipeline-is-optimized" class="table-of-contents__link toc-highlight">How do I know if my pipeline is optimized?</a></li><li><a href="#whats-the-memory-overhead-of-materialization" class="table-of-contents__link toc-highlight">What&#39;s the memory overhead of materialization?</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#my-node-restarts-arent-working" class="table-of-contents__link toc-highlight">My node restarts aren&#39;t working</a></li><li><a href="#my-parallel-pipeline-is-slower-than-sequential" class="table-of-contents__link toc-highlight">My parallel pipeline is slower than sequential</a></li></ul></li><li><a href="#error-handling" class="table-of-contents__link toc-highlight">Error Handling</a><ul><li><a href="#what-happens-if-a-transform-throws-an-exception" class="table-of-contents__link toc-highlight">What happens if a transform throws an exception?</a></li><li><a href="#how-do-i-implement-retries" class="table-of-contents__link toc-highlight">How do I implement retries?</a></li></ul></li><li><a href="#error-codes-reference" class="table-of-contents__link toc-highlight">Error Codes Reference</a><ul><li><a href="#what-do-the-error-codes-like-np0101-mean" class="table-of-contents__link toc-highlight">What do the error codes like [NP0101] mean?</a></li><li><a href="#how-do-i-handle-invalid-data" class="table-of-contents__link toc-highlight">How do I handle invalid data?</a></li></ul></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing</a><ul><li><a href="#how-do-i-test-a-pipeline" class="table-of-contents__link toc-highlight">How do I test a pipeline?</a></li><li><a href="#can-i-test-individual-nodes" class="table-of-contents__link toc-highlight">Can I test individual nodes?</a></li><li><a href="#how-do-i-mock-external-dependencies" class="table-of-contents__link toc-highlight">How do I mock external dependencies?</a></li></ul></li><li><a href="#integration" class="table-of-contents__link toc-highlight">Integration</a><ul><li><a href="#how-do-i-use-npipeline-with-a-database" class="table-of-contents__link toc-highlight">How do I use NPipeline with a database?</a></li><li><a href="#how-do-i-use-npipeline-with-message-queues-like-rabbitmq" class="table-of-contents__link toc-highlight">How do I use NPipeline with Message Queues (like RabbitMQ)?</a></li><li><a href="#can-i-use-npipeline-with-dependency-injection-containers" class="table-of-contents__link toc-highlight">Can I use NPipeline with dependency injection containers?</a></li></ul></li><li><a href="#troubleshooting-1" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#my-pipeline-is-running-out-of-memory" class="table-of-contents__link toc-highlight">My pipeline is running out of memory</a></li><li><a href="#pipeline-is-slow" class="table-of-contents__link toc-highlight">Pipeline is slow</a></li><li><a href="#nodes-arent-being-registered-with-di" class="table-of-contents__link toc-highlight">Nodes aren&#39;t being registered with DI</a></li><li><a href="#cancellationtoken-not-working" class="table-of-contents__link toc-highlight">CancellationToken not working</a></li></ul></li><li><a href="#arrow_right-next-steps" class="table-of-contents__link toc-highlight">➡️ Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/why-npipeline">Why NPipeline?</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/quick-start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/core-concepts">Core Concepts</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/npipeline/npipeline" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">&nbsp;</div></div></div></footer></div>
</body>
</html>