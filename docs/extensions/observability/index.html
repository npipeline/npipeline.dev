<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-extensions/observability/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">NPipeline Observability Extension | NPipeline</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://npipeline.dev/docs/extensions/observability/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="NPipeline Observability Extension | NPipeline"><meta data-rh="true" name="description" content="Comprehensive metrics collection and monitoring for NPipeline pipelines."><meta data-rh="true" property="og:description" content="Comprehensive metrics collection and monitoring for NPipeline pipelines."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://npipeline.dev/docs/extensions/observability/"><link data-rh="true" rel="alternate" href="https://npipeline.dev/docs/extensions/observability/" hreflang="en"><link data-rh="true" rel="alternate" href="https://npipeline.dev/docs/extensions/observability/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Extensions","item":"https://npipeline.dev/docs/extensions"},{"@type":"ListItem","position":2,"name":"NPipeline Observability Extension","item":"https://npipeline.dev/docs/extensions/observability/"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="NPipeline RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="NPipeline Atom Feed">





<script src="//script.crazyegg.com/pages/scripts/0131/6841.js" async="async"></script><link rel="stylesheet" href="/assets/css/styles.4bb8ba71.css">
<script src="/assets/js/runtime~main.f12a64a7.js" defer="defer"></script>
<script src="/assets/js/main.718883bb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="NPipeline logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="NPipeline logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NPipeline</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/npipeline/npipeline" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/"><span title="Welcome to NPipeline" class="linkLabel_WmDU">Welcome to NPipeline</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/getting-started"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/core-concepts"><span title="Core Concepts" class="categoryLinkLabel_W154">Core Concepts</span></a><button aria-label="Expand sidebar category &#x27;Core Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/architecture/"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a><button aria-label="Collapse sidebar category &#x27;Architecture&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/architectural-foundations"><span title="Architectural Foundations" class="linkLabel_WmDU">Architectural Foundations</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/component-architecture"><span title="Component Architecture" class="linkLabel_WmDU">Component Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/execution-flow"><span title="Execution Flow" class="linkLabel_WmDU">Execution Flow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/data-flow"><span title="Data Flow Details" class="linkLabel_WmDU">Data Flow Details</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/dependency-injection"><span title="Dependency Injection Integration" class="linkLabel_WmDU">Dependency Injection Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/node-instantiation"><span title="Node Instantiation" class="linkLabel_WmDU">Node Instantiation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/error-handling-architecture"><span title="Error Handling Architecture" class="linkLabel_WmDU">Error Handling Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/cancellation-model"><span title="Cancellation Model" class="linkLabel_WmDU">Cancellation Model</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/performance-characteristics"><span title="Performance Characteristics" class="linkLabel_WmDU">Performance Characteristics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/retry-delay-architecture"><span title="Retry Delay Strategies Architecture" class="linkLabel_WmDU">Retry Delay Strategies Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/extension-points"><span title="Extension Points" class="linkLabel_WmDU">Extension Points</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/design-principles"><span title="Design Principles" class="linkLabel_WmDU">Design Principles</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/optimization-principles"><span title="Optimization Principles - How NPipeline Achieves High Performance" class="linkLabel_WmDU">Optimization Principles - How NPipeline Achieves High Performance</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/execution-plan-caching"><span title="Execution Plan Caching" class="linkLabel_WmDU">Execution Plan Caching</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/extensions"><span title="Extensions" class="categoryLinkLabel_W154">Extensions</span></a><button aria-label="Collapse sidebar category &#x27;Extensions&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extensions/dependency-injection"><span title="Dependency Injection" class="linkLabel_WmDU">Dependency Injection</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extensions/parallelism"><span title="Parallelism" class="linkLabel_WmDU">Parallelism</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/extensions/testing"><span title="Testing" class="categoryLinkLabel_W154">Testing</span></a><button aria-label="Expand sidebar category &#x27;Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/extensions/nodes"><span title="Nodes Extension" class="categoryLinkLabel_W154">Nodes Extension</span></a><button aria-label="Expand sidebar category &#x27;Nodes Extension&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/extensions/composition/"><span title="Pipeline Composition Extension" class="categoryLinkLabel_W154">Pipeline Composition Extension</span></a><button aria-label="Expand sidebar category &#x27;Pipeline Composition Extension&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/docs/extensions/observability/"><span title="NPipeline Observability Extension" class="categoryLinkLabel_W154">NPipeline Observability Extension</span></a><button aria-label="Collapse sidebar category &#x27;NPipeline Observability Extension&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extensions/observability/opentelemetry"><span title="OpenTelemetry Integration" class="linkLabel_WmDU">OpenTelemetry Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extensions/observability/tracing"><span title="Distributed Tracing" class="linkLabel_WmDU">Distributed Tracing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extensions/observability/advanced-patterns"><span title="Advanced Observability Patterns" class="linkLabel_WmDU">Advanced Observability Patterns</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extensions/observability/configuration"><span title="Observability Configuration" class="linkLabel_WmDU">Observability Configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extensions/observability/examples"><span title="Observability Usage Examples" class="linkLabel_WmDU">Observability Usage Examples</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extensions/observability/metrics"><span title="Metrics Reference" class="linkLabel_WmDU">Metrics Reference</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/connectors"><span title="Connectors" class="categoryLinkLabel_W154">Connectors</span></a><button aria-label="Expand sidebar category &#x27;Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/advanced-topics"><span title="Advanced Topics" class="categoryLinkLabel_W154">Advanced Topics</span></a><button aria-label="Expand sidebar category &#x27;Advanced Topics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/analyzers/"><span title="Build-Time Analyzers" class="categoryLinkLabel_W154">Build-Time Analyzers</span></a><button aria-label="Expand sidebar category &#x27;Build-Time Analyzers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/samples/"><span title="Samples" class="categoryLinkLabel_W154">Samples</span></a><button aria-label="Expand sidebar category &#x27;Samples&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/reference"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a><button aria-label="Expand sidebar category &#x27;Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/extensions"><span>Extensions</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">NPipeline Observability Extension</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>NPipeline Observability Extension</h1></header>
<p>Comprehensive metrics collection and monitoring for NPipeline pipelines.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>The <code>NPipeline.Extensions.Observability</code> extension provides comprehensive observability capabilities for NPipeline pipelines, including metrics collection and distributed tracing. It enables detailed tracking of pipeline execution, node performance, throughput, resource utilization, and exception handling, making it easier to identify bottlenecks, optimize performance, and troubleshoot issues in production environments.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-features">Key Features<a href="#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features" translate="no">​</a></h3>
<ul>
<li class=""><strong>Node-level metrics</strong>: Track execution time, items processed/emitted, retries, memory usage, and processor time for each node</li>
<li class=""><strong>Pipeline-level metrics</strong>: Aggregate metrics across all nodes, including total duration, throughput, and success/failure status</li>
<li class=""><strong>Distributed tracing</strong>: OpenTelemetry-compatible tracing through <code>PipelineActivity</code> and <code>System.Diagnostics.Activity</code></li>
<li class=""><strong>Thread-safe collection</strong>: Metrics are collected safely across parallel and concurrent pipeline executions</li>
<li class=""><strong>Flexible sinks</strong>: Built-in logging sinks with support for custom metrics sinks (e.g., Application Insights, Prometheus, OpenTelemetry)</li>
<li class=""><strong>Dependency injection integration</strong>: Seamlessly integrates with Microsoft.Extensions.DependencyInjection</li>
<li class=""><strong>Execution observer pattern</strong>: Hooks into the pipeline execution lifecycle to capture metrics without modifying node logic</li>
<li class=""><strong>Minimal overhead</strong>: &lt; 1% typically, with lock-free concurrent operations and memory-efficient storage</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation" translate="no">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet add package NPipeline.Extensions.Observability</span><br></span></code></pre></div></div>
<p>The extension requires:</p>
<ul>
<li class=""><code>NPipeline</code> (core package)</li>
<li class=""><code>Microsoft.Extensions.DependencyInjection.Abstractions</code> (10.0.1 or later)</li>
<li class=""><code>Microsoft.Extensions.Logging.Abstractions</code> (10.0.1 or later)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="quick-start">Quick Start<a href="#quick-start" class="hash-link" aria-label="Direct link to Quick Start" title="Direct link to Quick Start" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="basic-setup-with-default-logging">Basic Setup with Default Logging<a href="#basic-setup-with-default-logging" class="hash-link" aria-label="Direct link to Basic Setup with Default Logging" title="Direct link to Basic Setup with Default Logging" translate="no">​</a></h3>
<p>The simplest way to enable observability is to use the <code>IObservablePipelineContextFactory</code>, which automatically configures metrics collection:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Extensions.DependencyInjection;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using NPipeline.Observability.DependencyInjection;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using NPipeline.Extensions.DependencyInjection;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var services = new ServiceCollection();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Add observability with default logging sinks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services.AddNPipelineObservability();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Add NPipeline core services</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services.AddNPipeline(Assembly.GetExecutingAssembly());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var serviceProvider = services.BuildServiceProvider();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Run your pipeline - metrics will be automatically collected and logged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await using var scope = serviceProvider.CreateAsyncScope();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var runner = scope.ServiceProvider.GetRequiredService&lt;IPipelineRunner&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var contextFactory = scope.ServiceProvider.GetRequiredService&lt;IObservablePipelineContextFactory&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await using var context = contextFactory.Create();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await runner.RunAsync&lt;MyPipelineDefinition&gt;(context);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="complete-example">Complete Example<a href="#complete-example" class="hash-link" aria-label="Direct link to Complete Example" title="Direct link to Complete Example" translate="no">​</a></h3>
<p>Here&#x27;s a fully working example with a pipeline definition and nodes:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Extensions.DependencyInjection;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Extensions.Hosting;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Extensions.Logging;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using NPipeline.DataFlow;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using NPipeline.DataFlow.DataPipes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using NPipeline.Nodes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using NPipeline.Observability.DependencyInjection;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using NPipeline.Extensions.DependencyInjection;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using NPipeline.Pipeline;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class NumberPipeline : IPipelineDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void Define(PipelineBuilder builder, PipelineContext context)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var source = builder.AddSource&lt;NumberSource, int&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var transform = builder.AddTransform&lt;DoubleTransform, int, int&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var sink = builder.AddSink&lt;NumberSink, int&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        builder.Connect(source, transform);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        builder.Connect(transform, sink);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public sealed class NumberSource : SourceNode&lt;int&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public IDataPipe&lt;int&gt; ExecuteAsync(PipelineContext context, CancellationToken cancellationToken = default)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        static async IAsyncEnumerable&lt;int&gt; Generate()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (int i = 1; i &lt;= 100; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                yield return i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new StreamingDataPipe&lt;int&gt;(Generate());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public sealed class DoubleTransform : TransformNode&lt;int, int&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override Task&lt;int&gt; ExecuteAsync(int item, PipelineContext context, CancellationToken cancellationToken = default)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Task.FromResult(item * 2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public sealed class NumberSink : SinkNode&lt;int&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public async Task ExecuteAsync(IDataPipe&lt;int&gt; input, PipelineContext context, IPipelineActivity parentActivity, CancellationToken cancellationToken = default)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await foreach (var item in input.WithCancellation(cancellationToken))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Console.WriteLine($&quot;Result: {item}&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Program</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static async Task Main(string[] args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var host = Host.CreateDefaultBuilder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .ConfigureServices((context, services) =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                services.AddLogging(loggingBuilder =&gt; loggingBuilder.AddConsole());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                services.AddNPipeline(typeof(Program).Assembly);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                services.AddNPipelineObservability();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await using var scope = host.Services.CreateAsyncScope();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var runner = scope.ServiceProvider.GetRequiredService&lt;IPipelineRunner&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var contextFactory = scope.ServiceProvider.GetRequiredService&lt;IObservablePipelineContextFactory&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var collector = scope.ServiceProvider.GetRequiredService&lt;IObservabilityCollector&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create context with automatic observability</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await using var pipelineContext = contextFactory.Create();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Run pipeline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await runner.RunAsync&lt;NumberPipeline&gt;(pipelineContext);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Display metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var metric in collector.GetNodeMetrics())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Console.WriteLine($&quot;\nNode: {metric.NodeId}&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Console.WriteLine($&quot;  Duration: {metric.DurationMs}ms&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Console.WriteLine($&quot;  Success: {metric.Success}&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-gets-logged">What Gets Logged<a href="#what-gets-logged" class="hash-link" aria-label="Direct link to What Gets Logged" title="Direct link to What Gets Logged" translate="no">​</a></h3>
<p>With the default configuration, you&#x27;ll see structured logs like:</p>
<div class="language-log codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-log codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Information] Pipeline MyPipeline (RunId: 123e4567-e89b-12d3-a456-426614174000) completed successfully. Processed 1000 items in 2500ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Information]   Node TransformNode: Processed 1000 items, emitted 950 items in 1200ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Information]   Node FilterNode: Processed 950 items, emitted 800 items in 800ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Information]   Node SinkNode: Processed 800 items, emitted 800 items in 500ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Information] Overall pipeline throughput: 400.00 items/sec</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="per-node-configuration">Per-Node Configuration<a href="#per-node-configuration" class="hash-link" aria-label="Direct link to Per-Node Configuration" title="Direct link to Per-Node Configuration" translate="no">​</a></h2>
<p>You can customize observability settings for individual nodes:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using NPipeline.Observability;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using NPipeline.Observability.Configuration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyPipeline : IPipelineDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void Define(PipelineBuilder builder, PipelineContext context)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var source = builder.AddSource&lt;MySource, int&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure with default options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var transform = builder.AddTransform&lt;MyTransform, int, string&gt;()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .WithObservability(builder);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure with full options (includes memory tracking)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var sink = builder.AddSink&lt;MySink, string&gt;()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .WithObservability(builder, ObservabilityOptions.Full);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        builder.Connect(source, transform);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        builder.Connect(transform, sink);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="observabilityoptions-presets">ObservabilityOptions Presets<a href="#observabilityoptions-presets" class="hash-link" aria-label="Direct link to ObservabilityOptions Presets" title="Direct link to ObservabilityOptions Presets" translate="no">​</a></h3>
<table><thead><tr><th>Preset</th><th>Timing</th><th>Item Counts</th><th>Memory</th><th>Thread Info</th><th>Performance</th></tr></thead><tbody><tr><td><code>Default</code></td><td>✓</td><td>✓</td><td>✗</td><td>✓</td><td>✓</td></tr><tr><td><code>Full</code></td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td><code>Minimal</code></td><td>✓</td><td>✗</td><td>✗</td><td>✗</td><td>✗</td></tr><tr><td><code>Disabled</code></td><td>✗</td><td>✗</td><td>✗</td><td>✗</td><td>✗</td></tr></tbody></table>
<p><strong>Note on Memory Metrics</strong>: Memory metrics require both:</p>
<ol>
<li class="">Extension-level configuration: <code>services.AddNPipelineObservability(ObservabilityExtensionOptions.WithMemoryMetrics)</code></li>
<li class="">Node-level configuration: <code>.WithObservability(builder, ObservabilityOptions.Full)</code></li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="metrics-collected">Metrics Collected<a href="#metrics-collected" class="hash-link" aria-label="Direct link to Metrics Collected" title="Direct link to Metrics Collected" translate="no">​</a></h2>
<p>When observability is enabled, the following metrics are automatically collected:</p>
<p><strong>Node Metrics</strong>:</p>
<ul>
<li class="">Execution timing (start, end, duration)</li>
<li class="">Items processed and emitted</li>
<li class="">Success/failure status</li>
<li class="">Retry attempts</li>
<li class="">Throughput (items per second)</li>
<li class="">Average processing time per item</li>
<li class="">Thread ID (if enabled)</li>
<li class="">Memory usage delta (if enabled)</li>
</ul>
<p><strong>Pipeline Metrics</strong>:</p>
<ul>
<li class="">Total execution time</li>
<li class="">Overall success/failure status</li>
<li class="">Total items processed across all nodes</li>
<li class="">Individual node metrics</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-use-cases">Common Use Cases<a href="#common-use-cases" class="hash-link" aria-label="Direct link to Common Use Cases" title="Direct link to Common Use Cases" translate="no">​</a></h2>
<ol>
<li class=""><strong>Performance Monitoring</strong> - Track execution time and throughput</li>
<li class=""><strong>Error Tracking</strong> - Monitor failures and retry patterns</li>
<li class=""><strong>Resource Usage</strong> - Track memory and CPU consumption</li>
<li class=""><strong>Capacity Planning</strong> - Analyze historical performance data</li>
<li class=""><strong>Debugging</strong> - Identify bottlenecks and optimization opportunities</li>
<li class=""><strong>SLA Compliance</strong> - Ensure pipelines meet performance requirements</li>
<li class=""><strong>Alerting</strong> - Integrate with monitoring systems for real-time alerts</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture" translate="no">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         Pipeline Execution              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└──────────────┬──────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               ├─&gt; IExecutionObserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               │   (MetricsCollectingExecutionObserver)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ┌─────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │ IObservabilityCollector │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │  (Thread-safe)          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └──────────┬──────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   ├─&gt; Node Metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   └─&gt; Pipeline Metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ┌──────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   IMetricsSink       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │ IPipelineMetricsSink │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └──────────┬───────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   ├─&gt; Logging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   ├─&gt; Prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   ├─&gt; App Insights</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   └─&gt; Custom Sinks</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-characteristics">Performance Characteristics<a href="#performance-characteristics" class="hash-link" aria-label="Direct link to Performance Characteristics" title="Direct link to Performance Characteristics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="minimal-overhead">Minimal Overhead<a href="#minimal-overhead" class="hash-link" aria-label="Direct link to Minimal Overhead" title="Direct link to Minimal Overhead" translate="no">​</a></h3>
<p>The extension is designed for production use with minimal performance impact:</p>
<ul>
<li class=""><strong>Non-blocking metrics collection</strong>: Metrics are recorded asynchronously without blocking pipeline execution</li>
<li class=""><strong>Efficient data structures</strong>: Uses optimized collections for metrics aggregation</li>
<li class=""><strong>Optional observability</strong>: Can be disabled entirely by not registering the services</li>
<li class=""><strong>Scoped lifetime</strong>: Metrics are isolated per pipeline run, preventing memory leaks</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="memory-usage">Memory Usage<a href="#memory-usage" class="hash-link" aria-label="Direct link to Memory Usage" title="Direct link to Memory Usage" translate="no">​</a></h3>
<ul>
<li class=""><strong>Per-pipeline overhead</strong>: Approximately 1-2 KB per node for metrics storage</li>
<li class=""><strong>Transient sinks</strong>: Metrics sinks are created per pipeline run and disposed after use</li>
<li class=""><strong>No persistent storage</strong>: Metrics are not retained in memory beyond the pipeline execution</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cpu-impact">CPU Impact<a href="#cpu-impact" class="hash-link" aria-label="Direct link to CPU Impact" title="Direct link to CPU Impact" translate="no">​</a></h3>
<ul>
<li class=""><strong>Lightweight timing</strong>: Uses high-resolution timers with minimal CPU overhead</li>
<li class=""><strong>Optional performance counters</strong>: Memory and processor time collection can be disabled if not needed</li>
<li class=""><strong>Batch-friendly</strong>: Metrics collection scales efficiently with large batch sizes</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="documentation">Documentation<a href="#documentation" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation" translate="no">​</a></h2>
<ul>
<li class=""><strong><a class="" href="/docs/extensions/observability/configuration">Configuration Guide</a></strong> - DI setup, custom sinks, and advanced registration options</li>
<li class=""><strong><a class="" href="/docs/extensions/observability/advanced-patterns">Advanced Patterns</a></strong> - Advanced scenarios like pre-aggregation, rate-limiting, and circuit breakers</li>
<li class=""><strong><a class="" href="/docs/extensions/observability/metrics">Metrics Reference</a></strong> - Complete metrics documentation</li>
<li class=""><strong><a class="" href="/docs/extensions/observability/examples">Examples</a></strong> - Real-world usage examples and common patterns</li>
<li class=""><strong><a class="" href="/docs/extensions/observability/tracing">Distributed Tracing</a></strong> - Core tracing abstraction and building custom tracers</li>
<li class=""><strong><a class="" href="/docs/extensions/observability/opentelemetry">OpenTelemetry Integration</a></strong> - Production-grade tracing with OpenTelemetry backends</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/extensions/composition/testing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Testing Composite Pipelines</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/extensions/observability/opentelemetry"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">OpenTelemetry Integration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href="#key-features" class="table-of-contents__link toc-highlight">Key Features</a></li></ul></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#quick-start" class="table-of-contents__link toc-highlight">Quick Start</a><ul><li><a href="#basic-setup-with-default-logging" class="table-of-contents__link toc-highlight">Basic Setup with Default Logging</a></li><li><a href="#complete-example" class="table-of-contents__link toc-highlight">Complete Example</a></li><li><a href="#what-gets-logged" class="table-of-contents__link toc-highlight">What Gets Logged</a></li></ul></li><li><a href="#per-node-configuration" class="table-of-contents__link toc-highlight">Per-Node Configuration</a><ul><li><a href="#observabilityoptions-presets" class="table-of-contents__link toc-highlight">ObservabilityOptions Presets</a></li></ul></li><li><a href="#metrics-collected" class="table-of-contents__link toc-highlight">Metrics Collected</a></li><li><a href="#common-use-cases" class="table-of-contents__link toc-highlight">Common Use Cases</a></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a></li><li><a href="#performance-characteristics" class="table-of-contents__link toc-highlight">Performance Characteristics</a><ul><li><a href="#minimal-overhead" class="table-of-contents__link toc-highlight">Minimal Overhead</a></li><li><a href="#memory-usage" class="table-of-contents__link toc-highlight">Memory Usage</a></li><li><a href="#cpu-impact" class="table-of-contents__link toc-highlight">CPU Impact</a></li></ul></li><li><a href="#documentation" class="table-of-contents__link toc-highlight">Documentation</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/why-npipeline">Why NPipeline?</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/quick-start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/core-concepts">Core Concepts</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/npipeline/npipeline" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">&nbsp;</div></div></div></footer></div>
</body>
</html>