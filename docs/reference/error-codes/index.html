<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/error-codes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">NPipeline Error Codes Reference | NPipeline</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="robots" content="noindex, nofollow"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://npipeline.dev/docs/reference/error-codes"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="NPipeline Error Codes Reference | NPipeline"><meta data-rh="true" name="description" content="This guide explains NPipeline error codes, their causes, and solutions."><meta data-rh="true" property="og:description" content="This guide explains NPipeline error codes, their causes, and solutions."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://npipeline.dev/docs/reference/error-codes"><link data-rh="true" rel="alternate" href="https://npipeline.dev/docs/reference/error-codes" hreflang="en"><link data-rh="true" rel="alternate" href="https://npipeline.dev/docs/reference/error-codes" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Reference","item":"https://npipeline.dev/docs/reference"},{"@type":"ListItem","position":2,"name":"NPipeline Error Codes Reference","item":"https://npipeline.dev/docs/reference/error-codes"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="NPipeline RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="NPipeline Atom Feed"><link rel="stylesheet" href="/assets/css/styles.96187551.css">
<script src="/assets/js/runtime~main.65261a85.js" defer="defer"></script>
<script src="/assets/js/main.910ddc4b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="NPipeline logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="NPipeline logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NPipeline</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/npipeline/npipeline" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/"><span title="Welcome to NPipeline" class="linkLabel_WmDU">Welcome to NPipeline</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/introduction"><span title="Introduction" class="categoryLinkLabel_W154">Introduction</span></a><button aria-label="Expand sidebar category &#x27;Introduction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/learning-paths"><span title="Learning Paths" class="linkLabel_WmDU">Learning Paths</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/getting-started"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/core-concepts"><span title="Core Concepts" class="categoryLinkLabel_W154">Core Concepts</span></a><button aria-label="Expand sidebar category &#x27;Core Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/architecture/"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a><button aria-label="Collapse sidebar category &#x27;Architecture&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/core-concepts"><span title="Core Concepts" class="linkLabel_WmDU">Core Concepts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/component-architecture"><span title="Component Architecture" class="linkLabel_WmDU">Component Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/execution-flow"><span title="Execution Flow" class="linkLabel_WmDU">Execution Flow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/data-flow"><span title="Data Flow Details" class="linkLabel_WmDU">Data Flow Details</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/dependency-injection"><span title="Dependency Injection Integration" class="linkLabel_WmDU">Dependency Injection Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/error-handling-architecture"><span title="Error Handling Architecture" class="linkLabel_WmDU">Error Handling Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/cancellation-model"><span title="Cancellation Model" class="linkLabel_WmDU">Cancellation Model</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/performance-characteristics"><span title="Performance Characteristics" class="linkLabel_WmDU">Performance Characteristics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/retry-delay-architecture"><span title="Retry Delay Strategies Architecture" class="linkLabel_WmDU">Retry Delay Strategies Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/extension-points"><span title="Extension Points" class="linkLabel_WmDU">Extension Points</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/design-principles"><span title="Design Principles" class="linkLabel_WmDU">Design Principles</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/optimization-principles"><span title="Optimization Principles - How NPipeline Achieves High Performance" class="linkLabel_WmDU">Optimization Principles - How NPipeline Achieves High Performance</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/extensions"><span title="Extensions" class="categoryLinkLabel_W154">Extensions</span></a><button aria-label="Expand sidebar category &#x27;Extensions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/connectors"><span title="Connectors" class="categoryLinkLabel_W154">Connectors</span></a><button aria-label="Expand sidebar category &#x27;Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/advanced-topics"><span title="Advanced Topics" class="categoryLinkLabel_W154">Advanced Topics</span></a><button aria-label="Expand sidebar category &#x27;Advanced Topics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/analyzers/"><span title="Build-Time Analyzers" class="categoryLinkLabel_W154">Build-Time Analyzers</span></a><button aria-label="Expand sidebar category &#x27;Build-Time Analyzers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/samples-guide"><span title="Sample Applications" class="linkLabel_WmDU">Sample Applications</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/reference"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a><button aria-label="Collapse sidebar category &#x27;Reference&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reference/error-codes"><span title="NPipeline Error Codes Reference" class="linkLabel_WmDU">NPipeline Error Codes Reference</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/reference"><span>Reference</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">NPipeline Error Codes Reference</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>NPipeline Error Codes Reference</h1></header>
<p>This guide explains NPipeline error codes, their causes, and solutions.</p>
<p>Error codes are organized by category:</p>
<ul>
<li class=""><strong>NP01xx</strong>: Graph Validation Errors</li>
<li class=""><strong>NP02xx</strong>: Type Mismatch and Conversion Errors</li>
<li class=""><strong>NP03xx</strong>: Execution Errors</li>
<li class=""><strong>NP04xx</strong>: Configuration Errors</li>
<li class=""><strong>NP05xx</strong>: Resource and Capacity Errors</li>
<li class=""><strong>NP90xx-NP94xx</strong>: Analyzer Diagnostics</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="np01xx---graph-validation-errors">NP01xx - Graph Validation Errors<a href="#np01xx---graph-validation-errors" class="hash-link" aria-label="Direct link to NP01xx - Graph Validation Errors" title="Direct link to NP01xx - Graph Validation Errors" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0101-pipeline-requires-at-least-one-node">NP0101: Pipeline Requires At Least One Node<a href="#np0101-pipeline-requires-at-least-one-node" class="hash-link" aria-label="Direct link to NP0101: Pipeline Requires At Least One Node" title="Direct link to NP0101: Pipeline Requires At Least One Node" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0101] A pipeline must have at least one node. Add at least one node (source, transform, or sink) before building.</code></p>
<p><strong>Cause:</strong> You attempted to build a pipeline with no nodes.</p>
<p><strong>Solution:</strong> Add at least one node using methods like <code>AddSource()</code>, <code>AddTransform()</code>, <code>AddSink()</code>, <code>AddJoin()</code>, or <code>AddAggregate()</code>.</p>
<p><strong>Example:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var builder = new PipelineBuilder();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// builder.Build(); // ❌ Would throw NP0101</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddSource&lt;MySourceNode&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var pipeline = builder.Build(); // ✅ Works</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0102-node-missing-input-connection">NP0102: Node Missing Input Connection<a href="#np0102-node-missing-input-connection" class="hash-link" aria-label="Direct link to NP0102: Node Missing Input Connection" title="Direct link to NP0102: Node Missing Input Connection" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0102] Node &#x27;{nodeId}&#x27; ({nodeName}, {nodeKind}) is missing a required input connection...</code>**</p>
<p><strong>Cause:</strong> A transform or sink node has no incoming edges from other nodes. These node types require at least one input connection.</p>
<p><strong>Solution:</strong> Connect an output node to this node using <code>Connect()</code>.</p>
<p><strong>Example:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddSource&lt;SourceNode&gt;(&quot;src&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;MyTransform&gt;(&quot;transform&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Missing: builder.Connect(&quot;src&quot;, &quot;transform&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Build(); // ❌ Would throw NP0102</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0103-cyclic-dependency-detected">NP0103: Cyclic Dependency Detected<a href="#np0103-cyclic-dependency-detected" class="hash-link" aria-label="Direct link to NP0103: Cyclic Dependency Detected" title="Direct link to NP0103: Cyclic Dependency Detected" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0103] Cyclic dependency detected in pipeline graph. Pipelines must be directed acyclic graphs (DAGs)...</code>**</p>
<p><strong>Cause:</strong> Your pipeline connections form a cycle (circular reference). This is not allowed as pipelines must be directed acyclic graphs.</p>
<p><strong>Solution:</strong> Review your connections and ensure no circular dependencies exist.</p>
<p><strong>Example:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;Transform1&gt;(&quot;t1&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;Transform2&gt;(&quot;t2&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Connect(&quot;t1&quot;, &quot;t2&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Connect(&quot;t2&quot;, &quot;t1&quot;); // ❌ Creates cycle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Build(); // Would throw NP0103</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0104-node-already-added">NP0104: Node Already Added<a href="#np0104-node-already-added" class="hash-link" aria-label="Direct link to NP0104: Node Already Added" title="Direct link to NP0104: Node Already Added" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0104] A node with ID &#x27;{nodeId}&#x27; has already been added...</code>**</p>
<p><strong>Cause:</strong> You attempted to add a node with an ID that&#x27;s already registered in the pipeline.</p>
<p><strong>Solution:</strong> Use a different ID or don&#x27;t add the same node twice.</p>
<p><strong>Example:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;MyTransform&gt;(&quot;transform&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;MyTransform&gt;(&quot;transform&quot;); // ❌ Duplicate ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Build(); // Would throw NP0104</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0105-node-name-not-unique">NP0105: Node Name Not Unique<a href="#np0105-node-name-not-unique" class="hash-link" aria-label="Direct link to NP0105: Node Name Not Unique" title="Direct link to NP0105: Node Name Not Unique" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0105] A node with name &#x27;{name}&#x27; has already been added...</code>**</p>
<p><strong>Cause:</strong> Node names must be unique within a pipeline. You used a duplicate name.</p>
<p><strong>Solution:</strong> Either provide a different name or let the framework auto-generate one by not specifying a name.</p>
<p><strong>Example:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;Transform1&gt;(&quot;step&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;Transform2&gt;(&quot;step&quot;); // ❌ Duplicate name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Build(); // Would throw NP0105</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="np02xx---type-mismatch-and-conversion-errors">NP02xx - Type Mismatch and Conversion Errors<a href="#np02xx---type-mismatch-and-conversion-errors" class="hash-link" aria-label="Direct link to NP02xx - Type Mismatch and Conversion Errors" title="Direct link to NP02xx - Type Mismatch and Conversion Errors" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0201-type-mismatch-in-connection">NP0201: Type Mismatch in Connection<a href="#np0201-type-mismatch-in-connection" class="hash-link" aria-label="Direct link to NP0201: Type Mismatch in Connection" title="Direct link to NP0201: Type Mismatch in Connection" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0201] Type mismatch in connection between nodes...</code>**</p>
<p><strong>Cause:</strong> You connected two nodes with incompatible types. The output type of one doesn&#x27;t match the input type of the other.</p>
<p><strong>Solution:</strong> Add an appropriate transformation node between them to handle the type conversion, or adjust your node types to be compatible.</p>
<p><strong>Example:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddSource&lt;StringSource&gt;(&quot;src&quot;);     // Outputs: string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;IntTransform&gt;(&quot;trans&quot;); // Inputs: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Connect(&quot;src&quot;, &quot;trans&quot;); // ❌ Type mismatch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Solution: Add type converter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.AddTransform&lt;StringToIntConverter&gt;(&quot;converter&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Connect(&quot;src&quot;, &quot;converter&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Connect(&quot;converter&quot;, &quot;trans&quot;); // ✅ Works</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0202-input-data-pipe-wrong-type">NP0202: Input Data Pipe Wrong Type<a href="#np0202-input-data-pipe-wrong-type" class="hash-link" aria-label="Direct link to NP0202: Input Data Pipe Wrong Type" title="Direct link to NP0202: Input Data Pipe Wrong Type" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0202] Input data pipe is not of the expected type...</code>**</p>
<p><strong>Cause:</strong> An internal framework error where the input pipe type doesn&#x27;t match expected type. This usually indicates a graph construction error.</p>
<p><strong>Solution:</strong> Review your pipeline definition and ensure all node types and connections are correct.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0203-cannot-register-mappings-after-execution">NP0203: Cannot Register Mappings After Execution<a href="#np0203-cannot-register-mappings-after-execution" class="hash-link" aria-label="Direct link to NP0203: Cannot Register Mappings After Execution" title="Direct link to NP0203: Cannot Register Mappings After Execution" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0203] Cannot register type mappings after execution has begun...</code>**</p>
<p><strong>Cause:</strong> Attempted to configure type mappings after the pipeline has started executing.</p>
<p><strong>Solution:</strong> Configure all mappings before the pipeline starts executing or when building.</p>
<p><strong>Example:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Configure all type mappings BEFORE pipeline execution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var builder = new PipelineBuilder();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Add your nodes and configure mappings here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var pipeline = builder.Build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Then execute the pipeline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await pipeline.ExecuteAsync(source, context);</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0204-record-type-has-no-public-constructor">NP0204: Record Type Has No Public Constructor<a href="#np0204-record-type-has-no-public-constructor" class="hash-link" aria-label="Direct link to NP0204: Record Type Has No Public Constructor" title="Direct link to NP0204: Record Type Has No Public Constructor" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0204] Record type &#x27;{recordTypeName}&#x27; has no public constructors...</code>**</p>
<p><strong>Cause:</strong> You&#x27;re trying to construct a record type that doesn&#x27;t have any public constructors.</p>
<p><strong>Solution:</strong> Either add a public constructor to the record or use a different conversion method.</p>
<p><strong>Example:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ Bad: private constructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public record Order(int Id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Order() { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ Good: public constructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public record Order(int Id);</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0205-2008-member-access-and-setter-errors">NP0205-2008: Member Access and Setter Errors<a href="#np0205-2008-member-access-and-setter-errors" class="hash-link" aria-label="Direct link to NP0205-2008: Member Access and Setter Errors" title="Direct link to NP0205-2008: Member Access and Setter Errors" translate="no">​</a></h3>
<p><strong>Messages:</strong></p>
<ul>
<li class=""><code>[NP0205]</code> Invalid member access expression</li>
<li class=""><code>[NP0206]</code> Member not writable</li>
<li class=""><code>[NP0207]</code> Setter creation failed</li>
<li class=""><code>[NP0208]</code> ValueTuple constructor not found</li>
</ul>
<p><strong>Cause:</strong> Issues with property/field mapping in type conversions. The member either doesn&#x27;t exist, isn&#x27;t writable, or has other issues.</p>
<p><strong>Solution:</strong> Review your selector expressions and ensure they target valid, writable properties.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0210-cannot-concatenate-streams-type-mismatch">NP0210: Cannot Concatenate Streams Type Mismatch<a href="#np0210-cannot-concatenate-streams-type-mismatch" class="hash-link" aria-label="Direct link to NP0210: Cannot Concatenate Streams Type Mismatch" title="Direct link to NP0210: Cannot Concatenate Streams Type Mismatch" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0210] Cannot concatenate streams due to type mismatch...</code>**</p>
<p><strong>Cause:</strong> You&#x27;re trying to merge multiple input streams with incompatible types.</p>
<p><strong>Solution:</strong> Ensure all inputs to a merge point have the same type.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="np03xx---execution-errors">NP03xx - Execution Errors<a href="#np03xx---execution-errors" class="hash-link" aria-label="Direct link to NP03xx - Execution Errors" title="Direct link to NP03xx - Execution Errors" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0301-node-kind-not-supported">NP0301: Node Kind Not Supported<a href="#np0301-node-kind-not-supported" class="hash-link" aria-label="Direct link to NP0301: Node Kind Not Supported" title="Direct link to NP0301: Node Kind Not Supported" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0301] Node kind &#x27;{nodeKind}&#x27; is not supported...</code>**</p>
<p><strong>Cause:</strong> An internal framework error where a node type is not properly registered.</p>
<p><strong>Solution:</strong> This is usually an NPipeline bug. Please report it on GitHub.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0302-output-not-found-for-source-node">NP0302: Output Not Found for Source Node<a href="#np0302-output-not-found-for-source-node" class="hash-link" aria-label="Direct link to NP0302: Output Not Found for Source Node" title="Direct link to NP0302: Output Not Found for Source Node" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0302] Could not find output for source node &#x27;{sourceNodeId}&#x27;...</code>**</p>
<p><strong>Cause:</strong> A downstream node is trying to consume output from a source node that hasn&#x27;t executed or didn&#x27;t produce output.</p>
<p><strong>Solution:</strong> Ensure source nodes execute successfully before consuming their output.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0303-3004-pipeline-execution-failed">NP0303-3004: Pipeline Execution Failed<a href="#np0303-3004-pipeline-execution-failed" class="hash-link" aria-label="Direct link to NP0303-3004: Pipeline Execution Failed" title="Direct link to NP0303-3004: Pipeline Execution Failed" translate="no">​</a></h3>
<p><strong>Messages:</strong></p>
<ul>
<li class=""><code>[NP0303]</code> Pipeline execution failed at node</li>
<li class=""><code>[NP0304]</code> Pipeline execution failed</li>
</ul>
<p><strong>Cause:</strong> An exception occurred during pipeline execution.</p>
<p><strong>Solution:</strong> Check the inner exception details and review the node&#x27;s implementation. The error message will include details about what went wrong.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0305-item-failed-after-max-retries">NP0305: Item Failed After Max Retries<a href="#np0305-item-failed-after-max-retries" class="hash-link" aria-label="Direct link to NP0305: Item Failed After Max Retries" title="Direct link to NP0305: Item Failed After Max Retries" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0305] An item failed to process after {attempts} attempts...</code>**</p>
<p><strong>Cause:</strong> An item failed to process and exceeded the configured retry limit.</p>
<p><strong>Solution:</strong></p>
<ol>
<li class="">Increase retry limit if transient errors are expected</li>
<li class="">Fix the underlying issue causing the error</li>
<li class="">Implement better error handling</li>
</ol>
<p><strong>Example:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">builder.WithRetryOptions(options =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options with { MaxItemRetries = 5 } // Increase from default (typically 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0306-error-handling-failed">NP0306: Error Handling Failed<a href="#np0306-error-handling-failed" class="hash-link" aria-label="Direct link to NP0306: Error Handling Failed" title="Direct link to NP0306: Error Handling Failed" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0306] Error handling failed for node &#x27;{nodeId}&#x27;...</code>**</p>
<p><strong>Cause:</strong> Your custom error handler threw an exception.</p>
<p><strong>Solution:</strong> Review your error handler implementation and ensure it doesn&#x27;t throw exceptions.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0307-lineage-cardinality-mismatch">NP0307: Lineage Cardinality Mismatch<a href="#np0307-lineage-cardinality-mismatch" class="hash-link" aria-label="Direct link to NP0307: Lineage Cardinality Mismatch" title="Direct link to NP0307: Lineage Cardinality Mismatch" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0307] Lineage cardinality mismatch in node...</code>**</p>
<p><strong>Cause:</strong> The number of lineage mappings doesn&#x27;t match the node&#x27;s declared input/output cardinality.</p>
<p><strong>Solution:</strong> Ensure your lineage configuration matches your node&#x27;s actual cardinality (OneToOne, OneToMany, etc.).</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0310-circuit-breaker-tripped">NP0310: Circuit Breaker Tripped<a href="#np0310-circuit-breaker-tripped" class="hash-link" aria-label="Direct link to NP0310: Circuit Breaker Tripped" title="Direct link to NP0310: Circuit Breaker Tripped" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0310] Circuit breaker tripped for node &#x27;{nodeId}&#x27;...</code>**</p>
<p><strong>Cause:</strong> A node exceeded the failure threshold and the circuit breaker activated.</p>
<p><strong>Solution:</strong></p>
<ol>
<li class="">Fix the underlying issue causing failures</li>
<li class="">Increase the failure threshold if needed</li>
<li class="">Wait for the circuit breaker to reset (default: 1 minute)</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np0311-retry-limit-exhausted">NP0311: Retry Limit Exhausted<a href="#np0311-retry-limit-exhausted" class="hash-link" aria-label="Direct link to NP0311: Retry Limit Exhausted" title="Direct link to NP0311: Retry Limit Exhausted" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP0311] Retry limit exhausted for node &#x27;{nodeId}&#x27;...</code>**</p>
<p><strong>Cause:</strong> A node failed repeatedly and exceeded both item-level and node-restart retry limits.</p>
<p><strong>Solution:</strong></p>
<ol>
<li class="">Review error logs to understand why retries are failing</li>
<li class="">Increase retry limits if failures are transient</li>
<li class="">Fix the underlying issue</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9302-sinknode-input-not-consumed">NP9302: SinkNode Input Not Consumed<a href="#np9302-sinknode-input-not-consumed" class="hash-link" aria-label="Direct link to NP9302: SinkNode Input Not Consumed" title="Direct link to NP9302: SinkNode Input Not Consumed" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP9302] SinkNode &#x27;{0}&#x27; overrides ExecuteAsync but doesn&#x27;t consume input parameter. Sink nodes should process all items from input data pipe.</code>**</p>
<p><strong>Category:</strong> Node Execution Error</p>
<p><strong>Severity:</strong> Error</p>
<p><strong>Cause:</strong> Your SinkNode implementation overrides ExecuteAsync but doesn&#x27;t consume the input parameter. Sink nodes are designed to process all items from their input data pipe, but your implementation ignores the input.</p>
<p>This can cause:</p>
<ul>
<li class="">Data loss when items in the input pipe are not processed</li>
<li class="">Incomplete pipeline execution</li>
<li class="">Unexpected behavior when downstream nodes depend on sink&#x27;s side effects</li>
</ul>
<p><strong>Example of Problem Code:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: SinkNode ignores input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MySinkNode : SinkNode&lt;string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override Task ExecuteAsync(IDataPipe&lt;string&gt; input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Input parameter is never used</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Console.WriteLine(&quot;Sink executed but ignoring input&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Task.CompletedTask;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Solution:</strong></p>
<p>Always consume input in SinkNode implementations:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ SOLUTION: Process all items from input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MySinkNode : SinkNode&lt;string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override async Task ExecuteAsync(IDataPipe&lt;string&gt; input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Process all items from input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await foreach (var item in input.WithCancellation(cancellationToken))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Console.WriteLine($&quot;Processing: {item}&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Save to database, write to file, etc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Common Input Consumption Patterns:</strong></p>
<table><thead><tr><th>Pattern</th><th>Example</th><th>Use Case</th></tr></thead><tbody><tr><td>Process all items</td><td><code>await foreach (var item in input.WithCancellation(cancellationToken)) { ... }</code></td><td>Standard processing of each item</td></tr><tr><td>Count items</td><td><code>var count = await input.CountAsync(cancellationToken);</code></td><td>When you only need the count</td></tr><tr><td>Collect to list</td><td><code>var items = await input.ToListAsync(cancellationToken);</code></td><td>When you need all items in memory</td></tr><tr><td>First item only</td><td><code>var first = await input.FirstAsync(cancellationToken);</code></td><td>When you only need the first item</td></tr><tr><td>Any items check</td><td><code>var hasItems = await input.AnyAsync(cancellationToken);</code></td><td>When you just need to check if input is non-empty</td></tr></tbody></table>
<p><strong>Best Practices for SinkNode Implementation:</strong></p>
<ol>
<li class=""><strong>Always consume input</strong> - Use <code>await foreach</code> or other data pipe operations</li>
<li class=""><strong>Pass cancellation token</strong> - Use <code>WithCancellation(cancellationToken)</code> for proper cancellation support</li>
<li class=""><strong>Handle empty input</strong> - Your code should work correctly even if the input pipe is empty</li>
<li class=""><strong>Consider performance</strong> - For large datasets, process items in a streaming fashion rather than collecting all items</li>
<li class=""><strong>Don&#x27;t silently ignore input</strong> - Even if you don&#x27;t need to process items, consume them to acknowledge receipt</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9303-unsafe-pipelinecontext-access">NP9303: Unsafe PipelineContext Access<a href="#np9303-unsafe-pipelinecontext-access" class="hash-link" aria-label="Direct link to NP9303: Unsafe PipelineContext Access" title="Direct link to NP9303: Unsafe PipelineContext Access" translate="no">​</a></h2>
<p><strong>Message:</strong> <code>[NP9303] Unsafe access pattern &#x27;{0}&#x27; detected on PipelineContext. This can lead to NullReferenceException at runtime. Use null-conditional operators (?.) or check for null before accessing these properties.</code>**</p>
<p><strong>Category:</strong> Node Execution Error</p>
<p><strong>Severity:</strong> Warning</p>
<p><strong>Cause:</strong> Your code is accessing PipelineContext properties or dictionaries in a way that can lead to NullReferenceException at runtime. The analyzer detects these unsafe patterns:</p>
<ol>
<li class=""><strong>Direct access to nullable properties</strong> without null checks</li>
<li class=""><strong>Dictionary access without type checking</strong> (Items, Parameters, Properties dictionaries)</li>
<li class=""><strong>Unsafe casting from dictionary values</strong></li>
<li class=""><strong>Method calls on nullable properties</strong> without null verification</li>
</ol>
<p>These unsafe patterns can cause:</p>
<ul>
<li class="">Runtime NullReferenceException when properties are null</li>
<li class="">Pipeline failures that are difficult to debug</li>
<li class="">Inconsistent behavior in production environments</li>
</ul>
<p><strong>Example of Problem Code:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Unsafe access patterns</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessContext(PipelineContext context)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // NP9303: Direct access to nullable property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var handler = context.PipelineErrorHandler;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // NP9303: Dictionary access without null check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var configValue = context.Parameters[&quot;retryCount&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // NP9303: Method call on nullable property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var stateManager = context.StateManager;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stateManager.SaveState(&quot;key&quot;, data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Solution - Use Safe Access Patterns:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ SOLUTION: Safe access patterns</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public async Task ProcessContext(PipelineContext context)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Use null-conditional operator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await context.PipelineErrorHandler?.HandleNodeFailureAsync(&quot;nodeId&quot;, new Exception(), context, CancellationToken.None);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Use TryGetValue pattern for dictionary access</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (context.Parameters?.TryGetValue(&quot;retryCount&quot;, out var configValue) == true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var retryCount = Convert.ToInt32(configValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Check for null before using</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (context.StateManager != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        context.StateManager.SaveState(&quot;key&quot;, data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Common Safe Access Patterns:</strong></p>
<table><thead><tr><th>Pattern</th><th>Example</th><th>When to Use</th></tr></thead><tbody><tr><td>Null-conditional operator</td><td><code>context.PipelineErrorHandler?.HandleError()</code></td><td>When you can safely continue if property is null</td></tr><tr><td>Explicit null check</td><td><code>if (context.PipelineErrorHandler != null)</code></td><td>When you need to handle null case explicitly</td></tr><tr><td>TryGetValue pattern</td><td><code>context.Parameters?.TryGetValue(&quot;key&quot;, out var value)</code></td><td>For dictionary access with null safety</td></tr><tr><td>Pattern matching</td><td><code>if (context.PipelineErrorHandler is { } handler)</code></td><td>For type-safe access with null checking</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="np04xx---configuration-errors">NP04xx - Configuration Errors<a href="#np04xx---configuration-errors" class="hash-link" aria-label="Direct link to NP04xx - Configuration Errors" title="Direct link to NP04xx - Configuration Errors" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9002-incomplete-resilient-configuration">NP9002: Incomplete Resilient Configuration<a href="#np9002-incomplete-resilient-configuration" class="hash-link" aria-label="Direct link to NP9002: Incomplete Resilient Configuration" title="Direct link to NP9002: Incomplete Resilient Configuration" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP9002] Error handler can return PipelineErrorDecision.RestartNode but may not have all three mandatory prerequisites configured. Missing prerequisites will silently disable restart, causing the entire pipeline to fail instead of recovering the failed node.</code></p>
<p><strong>Category:</strong> Configuration Error</p>
<p><strong>Severity:</strong> Warning</p>
<p><strong>Cause:</strong> Your error handler can return <code>PipelineErrorDecision.RestartNode</code>, but the configuration is incomplete. Restart functionality requires <strong>all three</strong> of the following mandatory prerequisites:</p>
<ol>
<li class=""><strong>ResilientExecutionStrategy</strong> must wrap the node</li>
<li class=""><strong>MaxNodeRestartAttempts</strong> must be &gt; 0 in PipelineRetryOptions</li>
<li class=""><strong>MaxMaterializedItems</strong> must be non-null (not unbounded)</li>
</ol>
<p>Missing even one of these prerequisites will <strong>silently disable restart</strong>, causing the entire pipeline to fail instead of recovering gracefully.</p>
<p><strong>Example of Problem Code:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: RestartNode is possible, but prerequisites are missing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var myErrorHandler = new MyErrorHandler();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var pipeline = builder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .AddTransform&lt;MyTransform&gt;(&quot;myNode&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Missing: .WithExecutionStrategy(builder, new ResilientExecutionStrategy(...))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .Build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// If MyErrorHandler.HandleNodeFailureAsync() can return RestartNode,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// but the node doesn&#x27;t have ResilientExecutionStrategy, restart will fail silently!</span><br></span></code></pre></div></div>
<p><strong>Solution - Complete Configuration Checklist:</strong></p>
<p><strong>For detailed step-by-step configuration instructions, see the <a class="" href="/docs/core-concepts/resilience/node-restart-quickstart">Node Restart Quick Start Checklist</a>.</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ SOLUTION: All three prerequisites configured</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// STEP 1: Apply ResilientExecutionStrategy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var nodeHandle = builder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .AddTransform&lt;MyTransform, Input, Output&gt;(&quot;myNode&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .WithExecutionStrategy(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        builder,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new ResilientExecutionStrategy(new SequentialExecutionStrategy())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// STEP 2: Configure retry options with MaxNodeRestartAttempts &gt; 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var retryOptions = new PipelineRetryOptions(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxItemRetries: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxNodeRestartAttempts: 2,           // ← STEP 2: Set to &gt; 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxSequentialNodeAttempts: 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MaxMaterializedItems: 1000            // ← STEP 3: Set to non-null value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// STEP 3: Create context with retry options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var context = PipelineContext.WithRetry(retryOptions);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var pipeline = builder.Build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await pipeline.ExecuteAsync(source, context);</span><br></span></code></pre></div></div>
<p><strong>Critical Warning:</strong> Never set <code>MaxMaterializedItems</code> to <code>null</code> (unbounded). This silently disables restart functionality and can cause OutOfMemoryException. See the <a class="" href="/docs/core-concepts/resilience/node-restart-quickstart">Node Restart Quick Start Checklist</a> for detailed explanation of why unbounded buffers break resilience guarantees.</p>
<p><strong>Read More:</strong></p>
<ul>
<li class=""><strong><a class="" href="/docs/core-concepts/resilience/node-restart-quickstart">Node Restart Quick Start Checklist</a></strong> - Complete step-by-step configuration guide</li>
<li class=""><a class="" href="/docs/analyzers/resilience">Build-Time Resilience Analyzer Guide</a></li>
<li class=""><a class="" href="/docs/core-concepts/resilience/execution-with-resilience">Resilient Execution Strategy</a></li>
<li class=""><a class="" href="/docs/core-concepts/resilience/materialization-and-buffering">Materialization and Buffering</a></li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="np90xx-np94xx---analyzer-diagnostics">NP90xx-NP94xx - Analyzer Diagnostics<a href="#np90xx-np94xx---analyzer-diagnostics" class="hash-link" aria-label="Direct link to NP90xx-NP94xx - Analyzer Diagnostics" title="Direct link to NP90xx-NP94xx - Analyzer Diagnostics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9211-non-streaming-patterns-in-sourcenode">NP9211: Non-Streaming Patterns in SourceNode<a href="#np9211-non-streaming-patterns-in-sourcenode" class="hash-link" aria-label="Direct link to NP9211: Non-Streaming Patterns in SourceNode" title="Direct link to NP9211: Non-Streaming Patterns in SourceNode" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP9211] Non-streaming patterns detected in SourceNode implementation. Consider using IAsyncEnumerable with yield return for better performance and memory efficiency.</code></p>
<p><strong>Category:</strong> Performance</p>
<p><strong>Severity:</strong> Warning</p>
<p><strong>Cause:</strong> Your SourceNode implementation contains patterns that can lead to memory issues and poor performance when processing large datasets. The analyzer detects these problematic patterns:</p>
<ol>
<li class=""><strong><code>List&lt;T&gt;</code> or <code>Array</code> allocation and population</strong> in ExecuteAsync methods</li>
<li class=""><strong>.ToAsyncEnumerable()</strong> calls on materialized collections</li>
<li class=""><strong>Synchronous I/O operations</strong> like File.ReadAllText, File.WriteAllBytes, etc.</li>
<li class=""><strong>.ToList() and .ToArray()</strong> calls that materialize collections in memory</li>
</ol>
<p>These patterns can cause:</p>
<ul>
<li class="">High memory usage when processing large datasets</li>
<li class="">Poor startup performance as all data must be loaded before processing begins</li>
<li class="">Increased GC pressure from large collections</li>
<li class="">Thread blocking from synchronous I/O operations</li>
<li class="">Reduced scalability as memory requirements grow with data size</li>
</ul>
<p><strong>Example of Problem Code:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Materializing all data in memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BadSourceNode : SourceNode&lt;string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task ExecuteAsync(IDataPipe&lt;string&gt; output, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // NP9211: Allocating List&lt;T&gt; and populating it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var items = new List&lt;string&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Read all lines from file into memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var lines = File.ReadAllLines(&quot;large-file.txt&quot;); // NP9211: Synchronous I/O</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var line in lines)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            items.Add(line);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // NP9211: Materializing collection with ToList()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var item in items.ToList())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            await output.ProduceAsync(item, cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Solution - Use Streaming Patterns:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Using IAsyncEnumerable with yield return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GoodSourceNode : SourceNode&lt;string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected override async Task ExecuteAsync(IDataPipe&lt;string&gt; output, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Stream data line by line without materializing in memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await foreach (var line in ReadLinesAsync(&quot;large-file.txt&quot;, cancellationToken))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            await output.ProduceAsync(line, cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Helper method that yields lines one at a time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private async IAsyncEnumerable&lt;string&gt; ReadLinesAsync(string filePath, [EnumeratorCancellation] CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        using var reader = new StreamReader(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new FileStream(filePath, FileMode.Open, FileAccess.Read, FileShare.Read, bufferSize: 4096, useAsync: true));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        string? line;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while ((line = await reader.ReadLineAsync(cancellationToken)) != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            yield return line; // Stream one line at a time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Common Streaming Patterns:</strong></p>
<table><thead><tr><th>Pattern</th><th>Example</th><th>Use Case</th></tr></thead><tbody><tr><td>Process all items</td><td><code>await foreach (var item in GetItemsAsync(cancellationToken)) { ... }</code></td><td>Standard processing of each item</td></tr><tr><td>Generate data</td><td><code>for (int i = 0; i &lt; count; i++) { yield return GenerateItem(i); }</code></td><td>Data generation without materialization</td></tr><tr><td>Stream from database</td><td><code>while (await reader.ReadAsync(cancellationToken)) { ... }</code></td><td>Database cursor processing</td></tr><tr><td>Transform while streaming</td><td><code>await foreach (var item in GetSourceAsync()) { yield return Transform(item); }</code></td><td>Transformation without buffering</td></tr></tbody></table>
<p><strong>Benefits of Streaming Patterns:</strong></p>
<ol>
<li class=""><strong>Memory Efficiency</strong>: Constant memory usage regardless of data size</li>
<li class=""><strong>Better Performance</strong>: Processing begins immediately without waiting for all data to load</li>
<li class=""><strong>Scalability</strong>: Can handle arbitrarily large datasets without running out of memory</li>
<li class=""><strong>Responsiveness</strong>: Async I/O doesn&#x27;t block threads, improving overall throughput</li>
<li class=""><strong>Resource Utilization</strong>: Lower GC pressure and better cache locality</li>
</ol>
<p><strong>Read More:</strong></p>
<ul>
<li class=""><a class="" href="/docs/analyzers/resilience">Build-Time Resilience Analyzer Guide</a></li>
<li class=""><a class="" href="/docs/core-concepts/nodes/source-nodes">Source Node Best Practices</a></li>
<li class=""><a class="" href="/docs/advanced-topics/performance-hygiene">Performance Optimization Guide</a></li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="np9401-missing-dependency-injection">NP9401: Missing Dependency Injection<a href="#np9401-missing-dependency-injection" class="hash-link" aria-label="Direct link to NP9401: Missing Dependency Injection" title="Direct link to NP9401: Missing Dependency Injection" translate="no">​</a></h3>
<p><strong>Message:</strong> <code>[NP9401] Avoid dependency injection anti-patterns in node implementations. Use constructor injection instead.</code></p>
<p><strong>Category:</strong> Best Practice</p>
<p><strong>Severity:</strong> Warning</p>
<p><strong>Cause:</strong> Your node implementation contains dependency injection anti-patterns that can lead to tightly coupled code that is difficult to test and maintain. The analyzer detects these problematic patterns:</p>
<ol>
<li class=""><strong>Direct service instantiation</strong> using <code>new</code> keyword</li>
<li class=""><strong>Static singleton field assignments</strong> that create tightly coupled dependencies</li>
<li class=""><strong>Service locator pattern usage</strong> through GetService or GetRequiredService calls</li>
</ol>
<p>These anti-patterns violate the Dependency Inversion Principle and make code difficult to test, maintain, and configure.</p>
<p><strong>Example of Problem Code:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ PROBLEM: Dependency injection anti-patterns</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BadTransformNode : TransformNode&lt;string, string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly BadService _badService = new BadService(); // NP9401: Direct instantiation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override Task&lt;string&gt; ExecuteAsync(string item, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Task.FromResult(_badService.Process(item));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BadSourceNode : SourceNode&lt;int&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static BadService _service; // Static field</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public BadSourceNode()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _service = new BadService(); // NP9401: Static singleton assignment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BadSinkNode : SinkNode&lt;string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly IServiceProvider _serviceProvider;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public BadSinkNode(IServiceProvider serviceProvider)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _serviceProvider = serviceProvider;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override Task ExecuteAsync(IDataPipe&lt;string&gt; input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var badService = _serviceProvider.GetService(typeof(BadService)) as BadService; // NP9401: Service locator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Task.CompletedTask;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Solution - Use Constructor Injection:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ SOLUTION: Constructor injection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GoodTransformNode : TransformNode&lt;string, string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly BadService _badService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public GoodTransformNode(BadService badService) // Constructor injection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _badService = badService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override Task&lt;string&gt; ExecuteAsync(string item, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Task.FromResult(_badService.Process(item));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ SOLUTION: Multiple dependencies via constructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GoodSinkNode : SinkNode&lt;string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly IEmailService _emailService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly ILoggingService _loggingService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly IDataRepository _repository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public GoodSinkNode(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        IEmailService emailService,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ILoggingService loggingService,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        IDataRepository repository) // Multiple dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _emailService = emailService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _loggingService = loggingService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _repository = repository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override async Task ExecuteAsync(IDataPipe&lt;string&gt; input, PipelineContext context, CancellationToken cancellationToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await foreach (var item in input.WithCancellation(cancellationToken))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var processed = await _repository.SaveAsync(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            await _emailService.SendNotificationAsync(processed);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _loggingService.Log(processed);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Benefits of Constructor Injection:</strong></p>
<ol>
<li class=""><strong>Testability</strong>: Easy to mock dependencies for unit testing</li>
<li class=""><strong>Flexibility</strong>: Can swap implementations easily</li>
<li class=""><strong>Dependency Inversion</strong>: Depends on abstractions rather than concretions</li>
<li class=""><strong>Explicit Dependencies</strong>: All dependencies are visible in the constructor</li>
<li class=""><strong>Better Configuration</strong>: Works well with DI containers</li>
</ol>
<p><strong>Read More:</strong></p>
<ul>
<li class=""><a class="" href="/docs/analyzers/resilience">Build-Time Resilience Analyzer Guide</a></li>
<li class=""><a class="" href="/docs/architecture/dependency-injection">Dependency Injection Best Practices</a></li>
<li class=""><a class="" href="/docs/extensions/testing">Testing Pipeline Components</a></li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reference"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Reference</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#np01xx---graph-validation-errors" class="table-of-contents__link toc-highlight">NP01xx - Graph Validation Errors</a><ul><li><a href="#np0101-pipeline-requires-at-least-one-node" class="table-of-contents__link toc-highlight">NP0101: Pipeline Requires At Least One Node</a></li><li><a href="#np0102-node-missing-input-connection" class="table-of-contents__link toc-highlight">NP0102: Node Missing Input Connection</a></li><li><a href="#np0103-cyclic-dependency-detected" class="table-of-contents__link toc-highlight">NP0103: Cyclic Dependency Detected</a></li><li><a href="#np0104-node-already-added" class="table-of-contents__link toc-highlight">NP0104: Node Already Added</a></li><li><a href="#np0105-node-name-not-unique" class="table-of-contents__link toc-highlight">NP0105: Node Name Not Unique</a></li></ul></li><li><a href="#np02xx---type-mismatch-and-conversion-errors" class="table-of-contents__link toc-highlight">NP02xx - Type Mismatch and Conversion Errors</a><ul><li><a href="#np0201-type-mismatch-in-connection" class="table-of-contents__link toc-highlight">NP0201: Type Mismatch in Connection</a></li><li><a href="#np0202-input-data-pipe-wrong-type" class="table-of-contents__link toc-highlight">NP0202: Input Data Pipe Wrong Type</a></li><li><a href="#np0203-cannot-register-mappings-after-execution" class="table-of-contents__link toc-highlight">NP0203: Cannot Register Mappings After Execution</a></li><li><a href="#np0204-record-type-has-no-public-constructor" class="table-of-contents__link toc-highlight">NP0204: Record Type Has No Public Constructor</a></li><li><a href="#np0205-2008-member-access-and-setter-errors" class="table-of-contents__link toc-highlight">NP0205-2008: Member Access and Setter Errors</a></li><li><a href="#np0210-cannot-concatenate-streams-type-mismatch" class="table-of-contents__link toc-highlight">NP0210: Cannot Concatenate Streams Type Mismatch</a></li></ul></li><li><a href="#np03xx---execution-errors" class="table-of-contents__link toc-highlight">NP03xx - Execution Errors</a><ul><li><a href="#np0301-node-kind-not-supported" class="table-of-contents__link toc-highlight">NP0301: Node Kind Not Supported</a></li><li><a href="#np0302-output-not-found-for-source-node" class="table-of-contents__link toc-highlight">NP0302: Output Not Found for Source Node</a></li><li><a href="#np0303-3004-pipeline-execution-failed" class="table-of-contents__link toc-highlight">NP0303-3004: Pipeline Execution Failed</a></li><li><a href="#np0305-item-failed-after-max-retries" class="table-of-contents__link toc-highlight">NP0305: Item Failed After Max Retries</a></li><li><a href="#np0306-error-handling-failed" class="table-of-contents__link toc-highlight">NP0306: Error Handling Failed</a></li><li><a href="#np0307-lineage-cardinality-mismatch" class="table-of-contents__link toc-highlight">NP0307: Lineage Cardinality Mismatch</a></li><li><a href="#np0310-circuit-breaker-tripped" class="table-of-contents__link toc-highlight">NP0310: Circuit Breaker Tripped</a></li><li><a href="#np0311-retry-limit-exhausted" class="table-of-contents__link toc-highlight">NP0311: Retry Limit Exhausted</a></li><li><a href="#np9302-sinknode-input-not-consumed" class="table-of-contents__link toc-highlight">NP9302: SinkNode Input Not Consumed</a></li></ul></li><li><a href="#np9303-unsafe-pipelinecontext-access" class="table-of-contents__link toc-highlight">NP9303: Unsafe PipelineContext Access</a></li><li><a href="#np04xx---configuration-errors" class="table-of-contents__link toc-highlight">NP04xx - Configuration Errors</a><ul><li><a href="#np9002-incomplete-resilient-configuration" class="table-of-contents__link toc-highlight">NP9002: Incomplete Resilient Configuration</a></li></ul></li><li><a href="#np90xx-np94xx---analyzer-diagnostics" class="table-of-contents__link toc-highlight">NP90xx-NP94xx - Analyzer Diagnostics</a><ul><li><a href="#np9211-non-streaming-patterns-in-sourcenode" class="table-of-contents__link toc-highlight">NP9211: Non-Streaming Patterns in SourceNode</a></li><li><a href="#np9401-missing-dependency-injection" class="table-of-contents__link toc-highlight">NP9401: Missing Dependency Injection</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/why-npipeline">Why NPipeline?</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/quick-start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/core-concepts">Core Concepts</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/npipeline/npipeline" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">&nbsp;</div></div></div></footer></div>
</body>
</html>